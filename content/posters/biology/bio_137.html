<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plant Reproduction Methods</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;600&family=Montserrat:wght@700;800&display=swap" rel="stylesheet">
    <style>
        body { background: #064e3b; color: #fff; min-height: 100vh; font-family: 'Inter'; }
        .glass { background: rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(10px); }
        .rounded-custom { border-radius: 2rem; }
        canvas { border-radius: 1.5rem; }
        .lang-btn.active { background: #a3e635; color: #064e3b; font-weight: 800; }
        .mode-btn { transition: 0.3s; opacity: 0.6; }
        .mode-btn.active { opacity: 1; transform: scale(1.05); border-left: 4px solid #a3e635; background: rgba(255,255,255,0.05); }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body class="p-8">

<div class="flex justify-between items-center mb-8">
        <h1 class="text-4xl font-Montserrat text-lime-400" id="main-title">REPRODUCTION</h1>
        <div class="flex gap-2">
            <button onclick="window.setL('ru')" id="btn-ru" class="lang-btn px-3 py-1 rounded text-xs border border-white/20">RU</button>
            <button onclick="window.setL('kz')" id="btn-kz" class="lang-btn px-3 py-1 rounded text-xs border border-white/20">KZ</button>
            <button onclick="window.setL('en')" id="btn-en" class="lang-btn px-3 py-1 rounded text-xs border border-white/20">EN</button>
        </div>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <div class="glass p-6 rounded-custom flex flex-col gap-4">
            <h3 class="text-lime-200 uppercase tracking-widest text-xs font-bold mb-2">Select Type</h3>
            <button onclick="window.setMode('asexual')" id="btn-asexual" class="mode-btn p-4 rounded-xl text-left">
                <div class="text-xl">ðŸŒ± <span id="lbl-asexual">Asexual</span></div>
                <div class="text-xs text-gray-400 mt-1" id="sub-asexual">Vegetative & Spore</div>
            </button>
            <button onclick="window.setMode('sexual')" id="btn-sexual" class="mode-btn p-4 rounded-xl text-left">
                <div class="text-xl">ðŸ§¬ <span id="lbl-sexual">Sexual</span></div>
                <div class="text-xs text-gray-400 mt-1" id="sub-sexual">Gametes & Fertilization</div>
            </button>
        </div>

        <div class="lg:col-span-2 relative h-[500px] glass p-0 flex items-center justify-center bg-black/30 rounded-custom overflow-hidden">
            <canvas id="repCanvas" class="w-full h-full"></canvas>
            <div class="absolute bottom-8 right-8 text-right max-w-xs">
                <h4 id="info-h" class="text-2xl font-bold text-lime-300 mb-2"></h4>
                <p id="info-d" class="text-sm text-gray-300"></p>
            </div>
        </div>
    </div>

    <script>
        const bio19Data = {
            ru: {
                title: "Ð ÐÐ—ÐœÐÐžÐ–Ð•ÐÐ˜Ð•",
                lblAsexual: "Ð‘ÐµÑÐ¿Ð¾Ð»Ð¾Ðµ", subAsexual: "Ð’ÐµÐ³ÐµÑ‚Ð°Ñ‚Ð¸Ð²Ð½Ð¾Ðµ Ð¸ Ð¡Ð¿Ð¾Ñ€Ð°Ð¼Ð¸",
                lblSexual: "ÐŸÐ¾Ð»Ð¾Ð²Ð¾Ðµ", subSexual: "Ð“Ð°Ð¼ÐµÑ‚Ñ‹ Ð¸ ÐžÐ¿Ð»Ð¾Ð´Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð¸Ðµ",
                asexual: {t: "Ð‘ÐµÑÐ¿Ð¾Ð»Ð¾Ðµ Ñ€Ð°Ð·Ð¼Ð½Ð¾Ð¶ÐµÐ½Ð¸Ðµ", d: "Ð£Ñ‡Ð°ÑÑ‚Ð²ÑƒÐµÑ‚ Ð¾Ð´Ð½Ð° Ð¾ÑÐ¾Ð±ÑŒ. ÐŸÐ¾Ñ‚Ð¾Ð¼ÑÑ‚Ð²Ð¾ â€” Ñ‚Ð¾Ñ‡Ð½Ñ‹Ðµ Ð³ÐµÐ½ÐµÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ ÐºÐ¾Ð¿Ð¸Ð¸ (ÐºÐ»Ð¾Ð½Ñ‹). Ð¡Ð¿Ð¾ÑÐ¾Ð±Ñ‹: ÑÐ¿Ð¾Ñ€Ð°Ð¼Ð¸ (Ð¼Ñ…Ð¸, Ð¿Ð°Ð¿Ð¾Ñ€Ð¾Ñ‚Ð½Ð¸ÐºÐ¸) Ð¸Ð»Ð¸ Ð²ÐµÐ³ÐµÑ‚Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ð¼Ð¸ Ð¾Ñ€Ð³Ð°Ð½Ð°Ð¼Ð¸ (ÐºÐ¾Ñ€Ð½Ð¸, Ð¿Ð¾Ð±ÐµÐ³Ð¸). Ð‘Ñ‹ÑÑ‚Ñ€Ð¾Ðµ Ð·Ð°ÑÐµÐ»ÐµÐ½Ð¸Ðµ Ñ‚ÐµÑ€Ñ€Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸."},
                sexual: {t: "ÐŸÐ¾Ð»Ð¾Ð²Ð¾Ðµ Ñ€Ð°Ð·Ð¼Ð½Ð¾Ð¶ÐµÐ½Ð¸Ðµ", d: "Ð£Ñ‡Ð°ÑÑ‚Ð²ÑƒÑŽÑ‚ Ð´Ð²Ðµ Ð¾ÑÐ¾Ð±Ð¸ (Ð¸Ð»Ð¸ Ð´Ð²Ð° Ð¾Ñ€Ð³Ð°Ð½Ð°). ÐŸÑ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚ ÑÐ»Ð¸ÑÐ½Ð¸Ðµ Ð³Ð°Ð¼ÐµÑ‚ (n) Ñ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ Ð·Ð¸Ð³Ð¾Ñ‚Ñ‹ (2n). ÐžÐ±ÐµÑÐ¿ÐµÑ‡Ð¸Ð²Ð°ÐµÑ‚ Ð³ÐµÐ½ÐµÑ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ñ€Ð°Ð·Ð½Ð¾Ð¾Ð±Ñ€Ð°Ð·Ð¸Ðµ Ð¿Ð¾Ñ‚Ð¾Ð¼ÑÑ‚Ð²Ð°."}
            },
            kz: {
                title: "ÐšÓ¨Ð‘Ð•Ð®",
                lblAsexual: "Ð–Ñ‹Ð½Ñ‹ÑÑÑ‹Ð·", subAsexual: "Ð’ÐµÐ³ÐµÑ‚Ð°Ñ‚Ð¸Ð²Ñ‚Ñ– Ð¶Ó™Ð½Ðµ Ð¡Ð¿Ð¾Ñ€Ð»Ð°Ñ€Ð¼ÐµÐ½",
                lblSexual: "Ð–Ñ‹Ð½Ñ‹ÑÑ‚Ñ‹", subSexual: "Ð“Ð°Ð¼ÐµÑ‚Ð°Ð»Ð°Ñ€ Ð¶Ó™Ð½Ðµ Ò°Ñ€Ñ‹Ò›Ñ‚Ð°Ð½Ñƒ",
                asexual: {t: "Ð–Ñ‹Ð½Ñ‹ÑÑÑ‹Ð· ÐºÓ©Ð±ÐµÑŽ", d: "Ð‘Ñ–Ñ€ Ð´Ð°Ñ€Ð° Ò›Ð°Ñ‚Ñ‹ÑÐ°Ð´Ñ‹. Ò°Ñ€Ð¿Ð°Ò› â€” Ð½Ð°Ò›Ñ‚Ñ‹ Ð³ÐµÐ½ÐµÑ‚Ð¸ÐºÐ°Ð»Ñ‹Ò› ÐºÓ©ÑˆÑ–Ñ€Ð¼ÐµÐ»ÐµÑ€ (ÐºÐ»Ð¾Ð½Ð´Ð°Ñ€). Ð¢Ó™ÑÑ–Ð»Ð´ÐµÑ€Ñ–: ÑÐ¿Ð¾Ñ€Ð°Ð»Ð°Ñ€Ð¼ÐµÐ½ Ð½ÐµÐ¼ÐµÑÐµ Ð²ÐµÐ³ÐµÑ‚Ð°Ñ‚Ð¸Ð²Ñ‚Ñ– Ð¼Ò¯ÑˆÐµÐ»ÐµÑ€Ð¼ÐµÐ½. ÐÑƒÐ¼Ð°Ò›Ñ‚Ñ‹ Ñ‚ÐµÐ· Ð±Ð°ÑÑ‹Ð¿ Ð°Ð»Ñƒ."},
                sexual: {t: "Ð–Ñ‹Ð½Ñ‹ÑÑ‚Ñ‹ ÐºÓ©Ð±ÐµÑŽ", d: "Ð•ÐºÑ– Ð´Ð°Ñ€Ð° Ò›Ð°Ñ‚Ñ‹ÑÐ°Ð´Ñ‹. Ð“Ð°Ð¼ÐµÑ‚Ð°Ð»Ð°Ñ€Ð´Ñ‹Ò£ (n) Ò›Ð¾ÑÑ‹Ð»ÑƒÑ‹ Ð½Ó™Ñ‚Ð¸Ð¶ÐµÑÑ–Ð½Ð´Ðµ Ð·Ð¸Ð³Ð¾Ñ‚Ð° (2n) Ñ‚Ò¯Ð·Ñ–Ð»ÐµÐ´Ñ–. Ò°Ñ€Ð¿Ð°Ò›Ñ‚Ñ‹Ò£ Ð³ÐµÐ½ÐµÑ‚Ð¸ÐºÐ°Ð»Ñ‹Ò› Ð°Ð»ÑƒÐ°Ð½Ñ‚Ò¯Ñ€Ð»Ñ–Ð»Ñ–Ð³Ñ–Ð½ Ò›Ð°Ð¼Ñ‚Ð°Ð¼Ð°ÑÑ‹Ð· ÐµÑ‚ÐµÐ´Ñ–."}
            },
            en: {
                title: "REPRODUCTION",
                lblAsexual: "Asexual", subAsexual: "Vegetative & Spore",
                lblSexual: "Sexual", subSexual: "Gametes & Fertilization",
                asexual: {t: "Asexual Reproduction", d: "One parent involved. Offspring are genetic clones. Methods: spores or vegetative parts. Advantage: Rapid colonization."},
                sexual: {t: "Sexual Reproduction", d: "Two parents involved. Fusion of gametes (n) to form a zygote (2n). Advantage: Genetic diversity."}
            }
        };

        let lang='ru', mode='asexual', cx, cvs;
        let particles = [];

        window.setL = (l) => {
            lang = l;
            document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('btn-'+l).classList.add('active');
            updateUI();
        }

        window.setMode = (m) => { mode = m; particles = []; updateUI(); }

        function updateUI() {
            const d = bio19Data[lang];
            document.getElementById('main-title').textContent = d.title;
            document.getElementById('lbl-asexual').textContent = d.lblAsexual;
            document.getElementById('sub-asexual').textContent = d.subAsexual;
            document.getElementById('lbl-sexual').textContent = d.lblSexual;
            document.getElementById('sub-sexual').textContent = d.subSexual;

            const info = d[mode];
            document.getElementById('info-h').textContent = info.t;
            document.getElementById('info-d').textContent = info.d;
            
            document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('btn-'+mode).classList.add('active');
        }

        function draw() {
            if(!cx) return;
            const w = cvs.width, h = cvs.height;
            const t = Date.now() * 0.002;
            cx.clearRect(0,0,w,h);
            const cx_ = w/2, cy_ = h/2;

            if (mode === 'asexual') {
                // Cloning: One cell splits into two identical
                const split = (Math.sin(t) + 1) / 2; // 0 to 1
                cx.fillStyle = '#4ade80';
                cx.beginPath(); cx.arc(cx_ - split*50, cy_, 40, 0, Math.PI*2); cx.fill();
                cx.beginPath(); cx.arc(cx_ + split*50, cy_, 40, 0, Math.PI*2); cx.fill();
                // DNA
                cx.fillStyle = 'white'; cx.font = '20px Arial'; cx.textAlign='center';
                cx.fillText('2n', cx_ - split*50, cy_+5);
                cx.fillText('2n', cx_ + split*50, cy_+5);
            } else {
                // Sexual: Two cells merge
                const merge = (Math.sin(t) + 1) / 2; // 0 to 1
                cx.fillStyle = '#f472b6'; // Female
                cx.beginPath(); cx.arc(cx_ - 100 + merge*100, cy_, 30, 0, Math.PI*2); cx.fill();
                cx.fillStyle = '#60a5fa'; // Male
                cx.beginPath(); cx.arc(cx_ + 100 - merge*100, cy_, 30, 0, Math.PI*2); cx.fill();
                
                if (merge > 0.9) { // Flash
                    cx.fillStyle = '#facc15';
                    cx.shadowBlur = 40; cx.shadowColor = 'yellow';
                    cx.beginPath(); cx.arc(cx_, cy_, 50, 0, Math.PI*2); cx.fill();
                    cx.shadowBlur = 0;
                    cx.fillStyle = 'black'; cx.fillText('ZYGOTE', cx_, cy_);
                } else {
                    cx.fillStyle = 'white'; 
                    cx.fillText('n', cx_ - 100 + merge*100, cy_);
                    cx.fillText('n', cx_ + 100 - merge*100, cy_);
                }
            }

            requestAnimationFrame(draw);
        }

        window.onload = () => {
            cvs = document.getElementById('repCanvas'); cx = cvs.getContext('2d');
            const rs = () => { cvs.width = cvs.parentElement.clientWidth; cvs.height = cvs.parentElement.clientHeight; };
            window.addEventListener('resize', rs); rs();
            window.setL('ru'); draw();
        }
    </script>

<script type="text/javascript" src="qrc:///qtwebchannel/qwebchannel.js"></script>


</body>
</html>