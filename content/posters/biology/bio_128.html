<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classification of Fruits</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { background: #431407; color: #fed7aa; min-height: 100vh; font-family: 'Inter'; }
        .glass { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 1.5rem; }
        .fruit-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; }
        .f-card { cursor: pointer; transition: 0.2s; background: rgba(0,0,0,0.2); padding: 1rem; border-radius: 1rem; }
        .f-card:hover { background: rgba(255,255,255,0.1); }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body class="p-8 grid grid-cols-1 lg:grid-cols-2 gap-12">

<!-- –ö–ù–û–ü–ö–ê –ù–ê–ó–ê–î -->
<div style="position: fixed; top: 20px; left: 20px; z-index: 10000;">
    <button onclick="goBack()" style="
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border: none;
        color: white;
        padding: 12px 24px;
        border-radius: 10px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        transition: all 0.3s ease;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    " onmouseover="this.style.transform='translateX(-5px)'; this.style.boxShadow='0 6px 20px rgba(102, 126, 234, 0.6)';" 
       onmouseout="this.style.transform='translateX(0)'; this.style.boxShadow='0 4px 15px rgba(102, 126, 234, 0.4)';">
        ‚Üê –ù–∞–∑–∞–¥
    </button>
</div>


    <div class="flex flex-col gap-6">
        <h1 class="text-4xl font-bold text-orange-400">FRUIT TYPES</h1>
        <div class="glass p-6">
            <h3 class="text-orange-200 mb-4 uppercase tracking-widest text-xs font-bold">Dry Fruits</h3>
            <div class="fruit-grid">
                <div class="f-card" onclick="draw('nut')">üå∞ Nut (–û—Ä–µ—Ö)<div class="text-xs opacity-50">Hard shell, indehiscent</div></div>
                <div class="f-card" onclick="draw('legume')">ü´õ Legume (–ë–æ–±)<div class="text-xs opacity-50">Opens on 2 seams</div></div>
                <div class="f-card" onclick="draw('capsule')">üè∫ Capsule (–ö–æ—Ä–æ–±–æ—á–∫–∞)<div class="text-xs opacity-50">Many seeds (Poppy)</div></div>
                <div class="f-card" onclick="draw('grain')">üåæ Grain (–ó–µ—Ä–Ω–æ–≤–∫–∞)<div class="text-xs opacity-50">Fused coat (Wheat)</div></div>
            </div>
        </div>
        <div class="glass p-6">
            <h3 class="text-red-300 mb-4 uppercase tracking-widest text-xs font-bold">Fleshy Fruits</h3>
            <div class="fruit-grid">
                <div class="f-card" onclick="draw('drupe')">üçë Drupe (–ö–æ—Å—Ç—è–Ω–∫–∞)<div class="text-xs opacity-50">One hard stone</div></div>
                <div class="f-card" onclick="draw('berry')">ü´ê Berry (–Ø–≥–æ–¥–∞)<div class="text-xs opacity-50">Many seeds, soft</div></div>
            </div>
        </div>
    </div>

    <div class="glass p-8 flex items-center justify-center bg-black/20">
        <canvas id="fruitCanvas" class="w-full h-full"></canvas>
    </div>

    <script>
        let cx, cvs, type = 'drupe';
        
        window.draw = (t) => { type = t; render(); }

        function render() {
            if(!cx) return;
            const w = cvs.width, h = cvs.height;
            cx.clearRect(0,0,w,h);
            const cx_ = w/2, cy_ = h/2;

            if (type === 'drupe') { // Peach
                cx.fillStyle = '#fca5a5'; cx.beginPath(); cx.arc(cx_, cy_, 100, 0, Math.PI*2); cx.fill(); // Flesh
                cx.fillStyle = '#78350f'; cx.beginPath(); cx.ellipse(cx_, cy_, 40, 60, 0, 0, Math.PI*2); cx.fill(); // Stone
                cx.fillStyle = '#fff'; cx.beginPath(); cx.ellipse(cx_, cy_, 15, 30, 0, 0, Math.PI*2); cx.fill(); // Seed
            } else if (type === 'legume') { // Pea
                cx.fillStyle = '#4d7c0f'; 
                cx.beginPath(); cx.ellipse(cx_, cy_, 40, 150, 0, 0, Math.PI*2); cx.fill(); // Pod
                cx.fillStyle = '#a3e635';
                for(let i=-2; i<=2; i++) cx.beginPath(), cx.arc(cx_, cy_ + i*40, 15, 0, Math.PI*2), cx.fill(); // Peas
            } else if (type === 'berry') { // Tomato/Berry
                cx.fillStyle = '#ef4444'; cx.beginPath(); cx.arc(cx_, cy_, 100, 0, Math.PI*2); cx.fill();
                cx.fillStyle = '#fecaca'; 
                for(let i=0; i<5; i++) {
                    const ang = i * Math.PI*2/5;
                    cx.beginPath(); cx.arc(cx_+Math.cos(ang)*50, cy_+Math.sin(ang)*50, 20, 0, Math.PI*2); cx.fill();
                    cx.fillStyle = '#fef08a'; cx.beginPath(); cx.arc(cx_+Math.cos(ang)*50, cy_+Math.sin(ang)*50, 5, 0, Math.PI*2); cx.fill(); // Seeds
                    cx.fillStyle = '#fecaca';
                }
            } else { // Nut
                cx.fillStyle = '#92400e'; cx.beginPath(); cx.arc(cx_, cy_, 80, 0, Math.PI*2); cx.fill(); // Shell
                cx.fillStyle = '#fde68a'; cx.beginPath(); cx.arc(cx_, cy_, 60, 0, Math.PI*2); cx.fill(); // Kernel
            }
        }

        window.onload = () => {
            cvs = document.getElementById('fruitCanvas'); cx = cvs.getContext('2d');
            const rs = () => { cvs.width = cvs.parentElement.clientWidth; cvs.height = cvs.parentElement.clientHeight; render(); };
            window.addEventListener('resize', rs); rs();
        }
    </script>

<script type="text/javascript" src="qrc:///qtwebchannel/qwebchannel.js"></script>
<script>
    function goBack() {
        console.log('goBack() –≤—ã–∑–≤–∞–Ω–∞');
        if (typeof bridge !== 'undefined' && bridge) {
            console.log('Bridge –Ω–∞–π–¥–µ–Ω, –≤—ã–∑—ã–≤–∞—é onBackClicked()');
            bridge.onBackClicked();
        } else {
            console.log('Bridge –Ω–µ –Ω–∞–π–¥–µ–Ω!');
        }
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è QWebChannel
    document.addEventListener('DOMContentLoaded', function() {
        console.log('–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è QWebChannel...');

        if (typeof QWebChannel !== 'undefined' && typeof qt !== 'undefined') {
            try {
                new QWebChannel(qt.webChannelTransport, function(channel) {
                    window.bridge = channel.objects.bridge;
                    console.log('‚úÖ Bridge –ø–æ–¥–∫–ª—é—á–µ–Ω!');
                });
            } catch(e) {
                console.error('‚ùå QWebChannel –æ—à–∏–±–∫–∞:', e);
            }
        } else {
            console.warn('‚ö†Ô∏è QWebChannel –∏–ª–∏ qt –Ω–µ –Ω–∞–π–¥–µ–Ω');
        }
    });
</script>

</body>
</html>