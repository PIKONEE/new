<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seed and Fruit Structure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;600&family=Montserrat:wght@700;900&display=swap" rel="stylesheet">
    <style>
        body { background: #1a2e05; color: white; min-height: 100vh; font-family: 'Inter'; }
        .glass { background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(15px); }
        .rounded-custom { border-radius: 2rem; }
        .tab-btn { opacity: 0.5; transition: 0.3s; }
        .tab-btn.active { opacity: 1; border-bottom: 2px solid #84cc16; color: #84cc16; }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body class="p-8">

<div class="grid grid-cols-1 lg:grid-cols-2 gap-12 h-full">
        <div class="flex flex-col gap-8">
            <h1 class="text-5xl font-montserrat text-lime-300" id="title"></h1>
            
            <div class="flex gap-6 text-sm font-bold uppercase tracking-widest">
                <button class="tab-btn active" id="tab-seed" onclick="window.setMode('seed')">Seed Structure</button>
                <button class="tab-btn" id="tab-fruit" onclick="window.setMode('fruit')">Fruit Types</button>
            </div>

            <div class="glass p-8 rounded-custom">
                <h2 id="info-h" class="text-2xl font-bold text-lime-100 mb-4"></h2>
                <p id="info-d" class="text-lime-50/70 leading-relaxed"></p>
                <div id="stats" class="mt-6 flex gap-4 text-xs font-mono text-lime-400">
                    <!-- Dynamic -->
                </div>
            </div>

            <div class="flex gap-2 mt-auto">
                <button onclick="window.setL('ru')" class="bg-lime-900 px-3 py-1 rounded text-xs hover:bg-lime-700">RU</button>
                <button onclick="window.setL('kz')" class="bg-lime-900 px-3 py-1 rounded text-xs hover:bg-lime-700">KZ</button>
                <button onclick="window.setL('en')" class="bg-lime-900 px-3 py-1 rounded text-xs hover:bg-lime-700">EN</button>
            </div>
        </div>

        <div class="relative glass rounded-custom p-8 flex items-center justify-center bg-black/20">
            <canvas id="seedCanvas" class="w-full h-full"></canvas>
            <div class="absolute top-6 right-6 text-xs text-lime-500 font-bold" id="mode-label">DICOT vs MONOCOT</div>
        </div>
    </div>

    <script>
        const bio3Data = {
            ru: { 
                h: "Семя и Плод", 
                tabs: {s:"Строение семени", f:"Типы плодов"},
                seed: {t:"Двудольные vs Однодольные", d:"Семя состоит из кожуры, зародыша и запаса питательных веществ. У двудольных (фасоль) запас в семядолях, у однодольных (пшеница) — в эндосперме.", s:"Зародыш: Корешок + Стебелек + Почечка"},
                fruit: {t:"Классификация плодов", d:"Плод — это разросшаяся завязь с семенами. Бывают сухие (орех, боб, зерновка) и сочные (ягода, костянка, яблоко).", s:"Функция: Защита и распространение"}
            },
            kz: { 
                h: "Тұқым және Жеміс", 
                tabs: {s:"Тұқым құрылысы", f:"Жеміс түрлері"},
                seed: {t:"Қосжарнақты vs Даражарнақты", d:"Тұқым қабықтан, ұрықтан және қоректік заттар қорынан тұрады. Қосжарнақтыларда (үрмебұршақ) қор тұқымжарнақтарда, даражарнақтыларда (бидай) — эндоспермде.", s:"Ұрық: Тамырша + Сабақша + Бүршікше"},
                fruit: {t:"Жемістер жіктелуі", d:"Жеміс — тұқымдары бар ұлғайған түйін. Құрғақ (жаңғақ, бұршаққап, дән) және шырынды (жидек, сүйекті, алма) болады.", s:"Қызметі: Қорғау және таралу"}
            },
            en: { 
                h: "Seed and Fruit", 
                tabs: {s:"Seed Structure", f:"Fruit Types"},
                seed: {t:"Dicot vs Monocot", d:"A seed consists of a coat, an embryo, and nutrients. Dicots (bean) store food in cotyledons, monocots (wheat) in the endosperm.", s:"Embryo: Radicle + Plumule + Cotyledon"},
                fruit: {t:"Fruit Classification", d:"A fruit is a ripened ovary containing seeds. Types: Dry (nut, legume, grain) and Fleshy (berry, drupe, pome).", s:"Function: Protection & Dispersal"}
            }
        };

        let lang='ru', mode='seed', ctx, cvs;

        window.setL = function(l) { 
            lang = l; update(); 
        };
        
        window.setMode = function(m) { 
            mode = m; 
            document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
            document.getElementById('tab-'+m).classList.add('active');
            update(); 
        };

        function update() {
            const d = bio3Data[lang];
            document.getElementById('title').textContent = d.h;
            document.getElementById('tab-seed').textContent = d.tabs.s;
            document.getElementById('tab-fruit').textContent = d.tabs.f;
            
            const data = d[mode];
            document.getElementById('info-h').textContent = data.t;
            document.getElementById('info-d').textContent = data.d;
            document.getElementById('stats').textContent = data.s;
            document.getElementById('mode-label').textContent = mode.toUpperCase();
            draw();
        }

        function draw() {
            if(!ctx) return;
            const w = cvs.width, h = cvs.height;
            ctx.clearRect(0,0,w,h);
            const cx_ = w/2, cy_ = h/2;

            if (mode === 'seed') {
                // Bean (Dicot)
                ctx.fillStyle = '#854d0e'; // Coat
                ctx.beginPath(); ctx.ellipse(cx_-80, cy_, 60, 100, 0.2, 0, Math.PI*2); ctx.fill();
                ctx.fillStyle = '#fef08a'; // Cotyledon
                ctx.beginPath(); ctx.ellipse(cx_-80, cy_, 50, 90, 0.2, 0, Math.PI*2); ctx.fill();
                // Embryo
                ctx.fillStyle = '#65a30d';
                ctx.beginPath(); ctx.arc(cx_-100, cy_+20, 10, 0, Math.PI*2); ctx.fill();

                // Corn (Monocot)
                ctx.fillStyle = '#fbbf24'; // Endosperm
                ctx.fillRect(cx_+40, cy_-100, 80, 120);
                ctx.fillStyle = '#fff'; // Embryo part
                ctx.beginPath(); ctx.moveTo(cx_+40, cy_+20); ctx.lineTo(cx_+120, cy_+20); ctx.lineTo(cx_+80, cy_+80); ctx.fill();
                
            } else {
                // Apple (Fleshy) - Cross section
                ctx.fillStyle = '#ef4444'; // Skin
                ctx.beginPath(); ctx.arc(cx_, cy_, 100, 0, Math.PI*2); ctx.fill();
                ctx.fillStyle = '#fef9c3'; // Flesh
                ctx.beginPath(); ctx.arc(cx_, cy_, 95, 0, Math.PI*2); ctx.fill();
                // Core
                ctx.strokeStyle = '#a16207'; ctx.lineWidth = 2;
                ctx.beginPath(); ctx.arc(cx_-20, cy_, 15, 0, Math.PI*2); ctx.stroke();
                ctx.beginPath(); ctx.arc(cx_+20, cy_, 15, 0, Math.PI*2); ctx.stroke();
                // Seeds
                ctx.fillStyle = '#3f2c22';
                ctx.beginPath(); ctx.ellipse(cx_-20, cy_, 5, 10, 0.2, 0, Math.PI*2); ctx.fill();
                ctx.beginPath(); ctx.ellipse(cx_+20, cy_, 5, 10, -0.2, 0, Math.PI*2); ctx.fill();
            }
        }

        window.onload = function() {
            cvs = document.getElementById('seedCanvas'); 
            if(cvs) {
                ctx = cvs.getContext('2d');
                cvs.width = cvs.parentElement.clientWidth; 
                cvs.height = cvs.parentElement.clientHeight || 500;
                window.setL('ru');
                draw();
            }
        };
        
        window.onresize = () => {
            if(cvs) {
                cvs.width = cvs.parentElement.clientWidth;
                cvs.height = cvs.parentElement.clientHeight || 500;
                draw();
            }
        };
    </script>

<script type="text/javascript" src="qrc:///qtwebchannel/qwebchannel.js"></script>


</body>
</html>