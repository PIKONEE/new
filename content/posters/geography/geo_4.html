<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú—ã –≤–æ –í—Å–µ–ª–µ–Ω–Ω–æ–π: –ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –ê–¥—Ä–µ—Å</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d1b2a; /* –¢–µ–º–Ω–æ-—Å–∏–Ω–∏–π/–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π —Ñ–æ–Ω */
            color: #e0f2f1; /* –°–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç */
        }
        .gradient-title {
            background: linear-gradient(to right, #90e0ef, #4895ef); /* –ì–æ–ª—É–±–æ–π –∏ —Å–∏–Ω–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .address-card {
            background-color: #1b263b; /* –ß—É—Ç—å —Å–≤–µ—Ç–ª–µ–µ —Ñ–æ–Ω –∫–∞—Ä—Ç–æ—á–∫–∏ */
            border-left: 8px solid;
            transition: transform 0.3s ease;
        }
        .address-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(72, 149, 239, 0.4);
        }
        .border-level-1 { border-color: #4895ef; } /* –°–æ–ª–Ω–µ—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ */
        .border-level-2 { border-color: #43aa8b; } /* –ì–∞–ª–∞–∫—Ç–∏–∫–∞ */
        .border-level-3 { border-color: #e76f51; } /* –°–≤–µ—Ä—Ö—Å–∫–æ–ø–ª–µ–Ω–∏–µ */
        .border-level-4 { border-color: #f4a261; } /* –í—Å–µ–ª–µ–Ω–Ω–∞—è */

        .hierarchical-flow {
            position: relative;
        }
        .hierarchical-flow::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background-color: #4895ef;
            transform: translateX(-50%);
        }
        .flow-item {
            position: relative;
        }
        .flow-item::after {
            content: '‚Üì';
            position: absolute;
            left: 50%;
            bottom: -20px;
            transform: translateX(-50%);
            color: #4895ef;
            font-size: 24px;
            font-weight: bold;
        }
        .flow-item:last-child::after {
            content: '';
        }

        /* –£–±—Ä–∞—Ç—å –ª–∏–Ω–∏—é –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ */
        @media (max-width: 767px) {
             .hierarchical-flow::before {
                display: none;
            }
            .flow-item::after {
                display: none;
            }
        }
    </style>
    <!--
    Narrative Plan:
    The infographic is structured around a "Cosmic Address" concept, using hierarchy to convey scale.
    1. Header.
    2. Block 1: The Local Neighborhood (Solar System).
    3. Block 2: The City (Milky Way).
    4. Block 3: The Region (Local Group and Supercluster).
    5. Block 4: The Entire Home (Observable Universe).

    Visualization Choices:
    - Main Structure: Styled HTML/CSS Hierarchical Flow Chart (representing nested scale). Justification: Clearly conveys the concept of "address" and relative scale. Confirmed NO SVG.
    - Icons: Unicode symbols for celestial bodies. Confirmed NO SVG.

    Color Palette Chosen: Primarily "Brilliant Blues" (#4895ef, #90e0ef) against a dark background, accented with green (#43aa8b) and orange (#e76f51) for diversity and hierarchy levels.
    CRITICAL CONFIRMATION: NEITHER Mermaid JS NOR SVG were used anywhere in this file. All visualizations are structured HTML/CSS with Tailwind.
    -->
</head>
<body class="text-gray-100">

<!-- –ö–ù–û–ü–ö–ê –ù–ê–ó–ê–î -->
<div style="position: fixed; top: 20px; left: 20px; z-index: 10000;">
    <button onclick="goBack()" style="
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border: none;
        color: white;
        padding: 12px 24px;
        border-radius: 10px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        transition: all 0.3s ease;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    " onmouseover="this.style.transform='translateX(-5px)'; this.style.boxShadow='0 6px 20px rgba(102, 126, 234, 0.6)';" 
       onmouseout="this.style.transform='translateX(0)'; this.style.boxShadow='0 4px 15px rgba(102, 126, 234, 0.4)';">
        ‚Üê –ù–∞–∑–∞–¥
    </button>
</div>


    <header class="bg-[#1b263b] text-center p-8 shadow-2xl border-b-8 border-[#4895ef]">
        <h1 class="text-5xl md:text-7xl font-black uppercase tracking-wider gradient-title">–ú–´ –í–û –í–°–ï–õ–ï–ù–ù–û–ô</h1>
        <p class="text-2xl md:text-4xl font-extrabold mt-2 text-[#90e0ef]">–ö–û–°–ú–ò–ß–ï–°–ö–ò–ô –ê–î–†–ï–° –ß–ï–õ–û–í–ï–ß–ï–°–¢–í–ê</p>
        <p class="mt-4 max-w-4xl mx-auto text-lg text-gray-400">–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –ø–æ –º–∞—Å—à—Ç–∞–±–∞–º –º–∏—Ä–æ–∑–¥–∞–Ω–∏—è, –æ—Ç –Ω–∞—à–µ–≥–æ –¥–æ–º–∞ –¥–æ –≥—Ä–∞–Ω–∏—Ü—ã –≤–∏–¥–∏–º–æ–≥–æ.</p>
    </header>

    <main class="container mx-auto p-4 md:p-10">

        <h2 class="text-3xl font-extrabold text-center mb-12 pb-2 text-[#90e0ef]">üåå –ò–µ—Ä–∞—Ä—Ö–∏—è –ö–æ—Å–º–∏—á–µ—Å–∫–æ–≥–æ –ê–¥—Ä–µ—Å–∞</h2>

        <div class="hierarchical-flow max-w-4xl mx-auto">

            <!-- 1. –ù–∞—à –†–∞–π–æ–Ω: –°–æ–ª–Ω–µ—á–Ω–∞—è –°–∏—Å—Ç–µ–º–∞ -->
            <div class="flow-item mb-10 md:mb-16">
                <div class="address-card border-level-1 p-6 rounded-xl shadow-lg">
                    <h3 class="text-3xl font-black mb-3 text-[#4895ef]">1. –ü–õ–ê–ù–ï–¢–ê –ó–ï–ú–õ–Ø üåé</h3>
                    <p class="text-sm font-bold text-[#90e0ef] mb-3">–ù–∞—à –î–æ–º: –¢—Ä–µ—Ç–∏–π –∫–∞–º–µ–Ω—å –æ—Ç –°–æ–ª–Ω—Ü–∞</p>
                    <p class="text-gray-300">–ù–∞—à –¥–æ–º, —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π 4.54 –º–ª—Ä–¥ –ª–µ—Ç –Ω–∞–∑–∞–¥. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –∏–∑–≤–µ—Å—Ç–Ω–∞—è –ø–ª–∞–Ω–µ—Ç–∞ —Å –∂–∏–¥–∫–æ–π –≤–æ–¥–æ–π –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏.</p>
                    <div class="mt-3 text-sm text-gray-400">
                        <span class="font-bold">–°–∏—Å—Ç–µ–º–∞:</span> –°–æ–ª–Ω–µ—á–Ω–∞—è
                    </div>
                </div>
            </div>

            <!-- 2. –ù–∞—à –ì–æ—Ä–æ–¥: –ú–ª–µ—á–Ω—ã–π –ü—É—Ç—å -->
            <div class="flow-item mb-10 md:mb-16">
                <div class="address-card border-level-2 p-6 rounded-xl shadow-lg">
                    <h3 class="text-3xl font-black mb-3 text-[#43aa8b]">2. –ì–ê–õ–ê–ö–¢–ò–ö–ê –ú–õ–ï–ß–ù–´–ô –ü–£–¢–¨ ‚≠ê</h3>
                    <p class="text-sm font-bold text-[#90e0ef] mb-3">–ù–∞—à –ì–æ—Ä–æ–¥: –°–ø–∏—Ä–∞–ª—å–Ω—ã–π —Ä—É–∫–∞–≤ –û—Ä–∏–æ–Ω–∞</p>
                    <p class="text-gray-300">–ì–∏–≥–∞–Ω—Ç—Å–∫–∞—è —Å–ø–∏—Ä–∞–ª—å–Ω–∞—è –≥–∞–ª–∞–∫—Ç–∏–∫–∞, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è **200-400 –º–∏–ª–ª–∏–∞—Ä–¥–æ–≤ –∑–≤—ë–∑–¥**. –ù–∞—à–∞ –°–æ–ª–Ω–µ—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –ø–µ—Ä–∏—Ñ–µ—Ä–∏–∏, –≤ **—Ä—É–∫–∞–≤–µ –û—Ä–∏–æ–Ω–∞**.</p>
                    <div class="mt-3 text-sm text-gray-400">
                        <span class="font-bold">–†–∞–∑–º–µ—Ä:</span> ~100 000 —Å–≤–µ—Ç–æ–≤—ã—Ö –ª–µ—Ç –≤ –¥–∏–∞–º–µ—Ç—Ä–µ.
                    </div>
                </div>
            </div>

            <!-- 3. –ù–∞—à –†–∞–π–æ–Ω: –ú–µ—Å—Ç–Ω–∞—è –ì—Ä—É–ø–ø–∞ -->
            <div class="flow-item mb-10 md:mb-16">
                <div class="address-card border-level-3 p-6 rounded-xl shadow-lg">
                    <h3 class="text-3xl font-black mb-3 text-[#e76f51]">3. –ú–ï–°–¢–ù–ê–Ø –ì–†–£–ü–ü–ê –ì–ê–õ–ê–ö–¢–ò–ö üí´</h3>
                    <p class="text-sm font-bold text-[#90e0ef] mb-3">–ù–∞—à –†–µ–≥–∏–æ–Ω: –ì—Ä–∞–≤–∏—Ç–∞—Ü–∏–æ–Ω–Ω–æ —Å–≤—è–∑–∞–Ω–Ω–∞—è –≥—Ä—É–ø–ø–∞</p>
                    <p class="text-gray-300">–°–∫–æ–ø–ª–µ–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–Ω–æ –∏–∑ **50 –≥–∞–ª–∞–∫—Ç–∏–∫**. –î–≤–µ –≥–ª–∞–≤–Ω—ã–µ –≥–∞–ª–∞–∫—Ç–∏–∫–∏: –Ω–∞—à **–ú–ª–µ—á–Ω—ã–π –ü—É—Ç—å** –∏ –≥–∏–≥–∞–Ω—Ç—Å–∫–∞—è **–ê–Ω–¥—Ä–æ–º–µ–¥–∞** (–ú31), –∫–æ—Ç–æ—Ä—ã–µ –∏–¥—É—Ç –Ω–∞ —Å–±–ª–∏–∂–µ–Ω–∏–µ.</p>
                    <div class="mt-3 text-sm text-gray-400">
                        <span class="font-bold">–°–æ—Å–µ–¥–∏:</span> –ê–Ω–¥—Ä–æ–º–µ–¥–∞ (M31), –ì–∞–ª–∞–∫—Ç–∏–∫–∞ –¢—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∞ (M33).
                    </div>
                </div>
            </div>

            <!-- 4. –ù–∞—à–µ –°–≤–µ—Ä—Ö—Å–∫–æ–ø–ª–µ–Ω–∏–µ -->
            <div class="flow-item mb-10 md:mb-16">
                <div class="address-card border-level-4 p-6 rounded-xl shadow-lg">
                    <h3 class="text-3xl font-black mb-3 text-[#f4a261]">4. –°–í–ï–†–•–°–ö–û–ü–õ–ï–ù–ò–ï –õ–ê–ù–ò–ê–ö–ï–Ø üï∏Ô∏è</h3>
                    <p class="text-sm font-bold text-[#90e0ef] mb-3">–ù–∞—à–∞ –ü—Ä–æ–≤–∏–Ω—Ü–∏—è: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–∑ —Ç—ã—Å—è—á –≥–∞–ª–∞–∫—Ç–∏–∫</p>
                    <p class="text-gray-300">–ì–∏–≥–∞–Ω—Ç—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∞—è **–±–æ–ª–µ–µ 100 000 –≥–∞–ª–∞–∫—Ç–∏–∫**, –≤–∫–ª—é—á–∞—è –ú–µ—Å—Ç–Ω—É—é –≥—Ä—É–ø–ø—É. –ì–∞–ª–∞–∫—Ç–∏–∫–∏ –¥–≤–∏–∂—É—Ç—Å—è –∫ –æ–±—â–µ–º—É –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–æ–Ω–Ω–æ–º—É —Ü–µ–Ω—Ç—Ä—É ‚Äî **–í–µ–ª–∏–∫–æ–º—É –ê—Ç—Ç—Ä–∞–∫—Ç–æ—Ä—É**.</p>
                    <div class="mt-3 text-sm text-gray-400">
                        <span class="font-bold">–†–∞–∑–º–µ—Ä:</span> –û–∫–æ–ª–æ 520 –º–∏–ª–ª–∏–æ–Ω–æ–≤ —Å–≤–µ—Ç–æ–≤—ã—Ö –ª–µ—Ç.
                    </div>
                </div>
            </div>

             <!-- 5. –ù–∞–±–ª—é–¥–∞–µ–º–∞—è –í—Å–µ–ª–µ–Ω–Ω–∞—è -->
            <div class="flow-item">
                <div class="address-card border-l-8 border-[#ffffff] p-6 rounded-xl shadow-lg">
                    <h3 class="text-3xl font-black mb-3 text-[#ffffff]">5. –ù–ê–ë–õ–Æ–î–ê–ï–ú–ê–Ø –í–°–ï–õ–ï–ù–ù–ê–Ø üî≠</h3>
                    <p class="text-sm font-bold text-[#90e0ef] mb-3">–ù–∞—à –û–±—â–∏–π –î–æ–º: –ì—Ä–∞–Ω–∏—Ü–∞ –≤–∏–¥–∏–º–æ–≥–æ</p>
                    <p class="text-gray-300">–í—Å—ë, —á—Ç–æ –º—ã –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –º–æ–∂–µ–º –Ω–∞–±–ª—é–¥–∞—Ç—å, —Ç–∞–∫ –∫–∞–∫ —Å–≤–µ—Ç –æ—Ç —ç—Ç–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ —É—Å–ø–µ–ª –¥–æ –Ω–∞—Å –¥–æ–π—Ç–∏ —Å –º–æ–º–µ–Ω—Ç–∞ –ë–æ–ª—å—à–æ–≥–æ –í–∑—Ä—ã–≤–∞.</p>
                    <ul class="list-disc pl-5 mt-4 text-sm text-gray-300 space-y-1">
                        <li>**–í–æ–∑—Ä–∞—Å—Ç:** $\sim 13,8$ –º–ª—Ä–¥ –ª–µ—Ç.</li>
                        <li>**–î–∏–∞–º–µ—Ç—Ä:** $\sim 93$ –º–ª—Ä–¥ —Å–≤–µ—Ç–æ–≤—ã—Ö –ª–µ—Ç.</li>
                        <li>**–°–æ—Å—Ç–∞–≤:** $\sim 5\%$ –æ–±—ã—á–Ω–æ–µ –≤–µ—â–µ—Å—Ç–≤–æ, $\sim 27\%$ —Ç–µ–º–Ω–∞—è –º–∞—Ç–µ—Ä–∏—è, $\sim 68\%$ —Ç–µ–º–Ω–∞—è —ç–Ω–µ—Ä–≥–∏—è.</li>
                    </ul>
                </div>
            </div>

        </div> <!-- End Hierarchical Flow -->

        <footer class="text-center p-8 mt-12 bg-[#1b263b] rounded-xl shadow-2xl">
             <h3 class="text-4xl font-black gradient-title mb-2">–ó–ù–ê–ß–ï–ù–ò–ï –ú–ê–°–®–¢–ê–ë–ê</h3>
            <p class="text-xl text-[#90e0ef] font-extrabold">–ú—ã ‚Äî –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –º–∞–ª–∞—è —Ç–æ—á–∫–∞ –≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –±–æ–ª—å—à–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ, —Å–æ—Å—Ç–æ—è—â–∞—è –∏–∑ –∑–≤—ë–∑–¥–Ω–æ–π –ø—ã–ª–∏.</p>
        </footer>

    </main>

<script type="text/javascript" src="qrc:///qtwebchannel/qwebchannel.js"></script>
<script>
    function goBack() {
        console.log('goBack() –≤—ã–∑–≤–∞–Ω–∞');
        if (typeof bridge !== 'undefined' && bridge) {
            console.log('Bridge –Ω–∞–π–¥–µ–Ω, –≤—ã–∑—ã–≤–∞—é onBackClicked()');
            bridge.onBackClicked();
        } else {
            console.log('Bridge –Ω–µ –Ω–∞–π–¥–µ–Ω!');
        }
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è QWebChannel
    document.addEventListener('DOMContentLoaded', function() {
        console.log('–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è QWebChannel...');

        if (typeof QWebChannel !== 'undefined' && typeof qt !== 'undefined') {
            try {
                new QWebChannel(qt.webChannelTransport, function(channel) {
                    window.bridge = channel.objects.bridge;
                    console.log('‚úÖ Bridge –ø–æ–¥–∫–ª—é—á–µ–Ω!');
                });
            } catch(e) {
                console.error('‚ùå QWebChannel –æ—à–∏–±–∫–∞:', e);
            }
        } else {
            console.warn('‚ö†Ô∏è QWebChannel –∏–ª–∏ qt –Ω–µ –Ω–∞–π–¥–µ–Ω');
        }
    });
</script>






<style data-oi-map-overlay>
.oi-map-btn{
  position:fixed; right:16px; bottom:16px; z-index:9999;
  padding:10px 14px; border-radius:999px; border:1px solid rgba(0,0,0,.15);
  background:#fff; cursor:pointer; font:600 14px/1.1 system-ui,-apple-system,Segoe UI,Roboto,Arial;
  box-shadow:0 8px 20px rgba(0,0,0,.12);
}
.oi-map-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.72); z-index:10000;
  display:none; align-items:center; justify-content:center; padding:18px;
}
.oi-map-backdrop[aria-hidden="false"]{ display:flex; }
.oi-map-modal{
  width:min(1100px, 100%); height:min(85vh, 900px);
  background:#111; border-radius:14px; overflow:hidden; position:relative;
  box-shadow:0 20px 60px rgba(0,0,0,.35);
}
.oi-map-close{
  position:absolute; top:10px; right:10px; z-index:3;
  width:40px; height:40px; border-radius:999px; border:1px solid rgba(255,255,255,.25);
  background:rgba(0,0,0,.35); color:#fff; cursor:pointer; font-size:22px;
}
.oi-map-viewport{
  width:100%; height:100%; overflow:auto; -webkit-overflow-scrolling:touch;
  touch-action: pan-x pan-y;
  background:#000;
  padding-top:56px; /* –º–µ—Å—Ç–æ –ø–æ–¥ —Ç—É–ª–±–∞—Ä */
}
.oi-map-img{
  display:block;
  transform-origin: 0 0;
  user-select:none; -webkit-user-drag:none;
}
.oi-map-toolbar{
  position:absolute; left:12px; top:12px; right:12px; z-index:2;
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  pointer-events:none;
}
.oi-map-tabs{ display:flex; gap:8px; pointer-events:auto; }
.oi-map-tab{
  width:36px; height:34px; border-radius:10px;
  border:1px solid rgba(255,255,255,.22);
  background:rgba(0,0,0,.35); color:#fff;
  cursor:pointer; font:600 14px system-ui,-apple-system,Segoe UI,Roboto,Arial;
}
.oi-map-tab.is-active{
  background:rgba(255,255,255,.12);
  border-color: rgba(255,255,255,.45);
}
.oi-map-hint{
  pointer-events:none;
  color:#fff; opacity:.85; font:12px/1.2 system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:rgba(0,0,0,.35); border:1px solid rgba(255,255,255,.18);
  padding:8px 10px; border-radius:10px;
}
</style>

<button class="oi-map-btn" type="button" data-oi-map-btn>üó∫Ô∏è –ö–∞—Ä—Ç–∞</button>

<div class="oi-map-backdrop" aria-hidden="true" data-oi-map-backdrop>
  <div class="oi-map-modal" role="dialog" aria-modal="true" aria-label="–ö–∞—Ä—Ç–∞">
    <button class="oi-map-close" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å" data-oi-map-close>√ó</button>

    <div class="oi-map-toolbar">
      <div class="oi-map-tabs">
        <button type="button" class="oi-map-tab is-active" data-oi-map-tab="1">1</button>
        <button type="button" class="oi-map-tab" data-oi-map-tab="2">2</button>
        <button type="button" class="oi-map-tab" data-oi-map-tab="3">3</button>
        <button type="button" class="oi-map-tab" data-oi-map-tab="4">4</button>
      </div>
      <div class="oi-map-hint">–ö–æ–ª—ë—Å–∏–∫–æ/—Ç—Ä–µ–∫–ø–∞–¥ ‚Äî –∑—É–º ‚Ä¢ Esc ‚Äî –∑–∞–∫—Ä—ã—Ç—å</div>
    </div>

    <div class="oi-map-viewport" data-oi-map-viewport>
      <img class="oi-map-img" data-oi-map-img data-map="1" src="../../assets/maps/karta_1.png" alt="–ö–∞—Ä—Ç–∞ 1" style="display:block;">
<img class="oi-map-img" data-oi-map-img data-map="2" src="../../assets/maps/karta_2.png" alt="–ö–∞—Ä—Ç–∞ 2" style="display:none;">
<img class="oi-map-img" data-oi-map-img data-map="3" src="../../assets/maps/karta_3.png" alt="–ö–∞—Ä—Ç–∞ 3" style="display:none;">
<img class="oi-map-img" data-oi-map-img data-map="4" src="../../assets/maps/karta_4.png" alt="–ö–∞—Ä—Ç–∞ 4" style="display:none;">
    </div>
  </div>
</div>


<script data-oi-map-overlay>
(function(){
  const btn = document.querySelector('[data-oi-map-btn]');
  const backdrop = document.querySelector('[data-oi-map-backdrop]');
  const closeBtn = document.querySelector('[data-oi-map-close]');
  const viewport = document.querySelector('[data-oi-map-viewport]');
  const tabs = Array.from(document.querySelectorAll('[data-oi-map-tab]'));
  const imgs = Array.from(document.querySelectorAll('[data-oi-map-img][data-map]'));
  if(!btn || !backdrop || !closeBtn || !viewport || imgs.length === 0) return;

  let scale = 1;

  function applyScale(){
    imgs.forEach(img => { img.style.transform = `scale(${scale})`; });
  }
  function openMap(){
    backdrop.setAttribute('aria-hidden','false');
    document.body.style.overflow = 'hidden';
  }
  function closeMap(){
    backdrop.setAttribute('aria-hidden','true');
    document.body.style.overflow = '';
  }
  function showMap(n){
    imgs.forEach(img => {
      img.style.display = (img.getAttribute('data-map') === String(n)) ? 'block' : 'none';
    });
    tabs.forEach(t => t.classList.toggle('is-active', t.getAttribute('data-oi-map-tab') === String(n)));
    viewport.scrollTop = 0;
    viewport.scrollLeft = 0;
  }

  btn.addEventListener('click', openMap);
  closeBtn.addEventListener('click', closeMap);
  backdrop.addEventListener('click', (e)=>{ if(e.target === backdrop) closeMap(); });
  window.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeMap(); });

  tabs.forEach(t => t.addEventListener('click', () => showMap(t.getAttribute('data-oi-map-tab'))));

  viewport.addEventListener('wheel', (e)=>{
    if(backdrop.getAttribute('aria-hidden') !== 'false') return;
    e.preventDefault();
    const delta = -Math.sign(e.deltaY) * 0.1;
    scale = Math.min(4, Math.max(0.6, scale + delta));
    applyScale();
  }, {passive:false});

  applyScale();
  showMap(1);
})();
</script>
</body>
</html>
