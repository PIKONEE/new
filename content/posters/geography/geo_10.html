<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∞—Å—à—Ç–∞–± –ü–ª–∞–Ω–∞: –ü–ª–∞–Ω –∏ –ö–∞—Ä—Ç–∞</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a1a2e; /* –ì–ª—É–±–æ–∫–∏–π —Å–∏–Ω–∏–π —Ñ–æ–Ω */
            color: #f0f4f8; /* –°–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç */
        }
        .gradient-title {
            background: linear-gradient(to right, #e94560, #ff7e5f); /* –ö—Ä–∞—Å–Ω–æ-–æ—Ä–∞–Ω–∂–µ–≤—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .fact-card {
            background-color: #2c2c43; /* –ß—É—Ç—å —Å–≤–µ—Ç–ª–µ–µ —Ñ–æ–Ω –∫–∞—Ä—Ç–æ—á–∫–∏ */
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            min-height: 200px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            border-left: 5px solid #ff7e5f;
        }
        .fact-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(233, 69, 96, 0.4);
        }
        .fact-icon {
            font-size: 2.5rem;
            line-height: 1;
            color: #ff7e5f;
        }
        .fact-metric {
            color: #e94560; /* –ö—Ä–∞—Å–Ω—ã–π –∞–∫—Ü–µ–Ω—Ç */
            font-weight: 900;
            font-size: 1.25rem;
            line-height: 1.2;
            margin-bottom: 5px;
        }
        .fact-text {
            font-size: 0.9rem;
            line-height: 1.4;
            margin-top: 10px;
        }
        .lang-button {
            padding: 8px 16px;
            border-radius: 9999px;
            font-weight: 700;
            background-color: #e94560;
            color: white;
            transition: all 0.2s;
            cursor: pointer;
        }
        .lang-button:hover {
            background-color: #ff7e5f;
        }
        .lang-button.active {
            background-color: #ff7e5f;
            color: #1a1a2e;
            box-shadow: 0 0 10px rgba(255, 126, 95, 0.7);
        }
        .calc-input {
            border: 2px solid #ff7e5f;
            background-color: #1a1a2e;
            color: #f0f4f8;
            padding: 10px;
            border-radius: 8px;
            width: 100%;
            margin-top: 5px;
        }
        .calc-result {
            background-color: #3e4a7c;
            color: #ff7e5f;
            font-size: 1.5rem;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-weight: 700;
        }
    </style>
    <script>
        let currentLang = 'ru';

        // --- 10 –ü–†–ê–í–ò–õ –ú–ê–°–®–¢–ê–ë–ê (–ü–õ–ê–ù) ---
        const scaleRules = [
            { icon: 'üìè', metric: '–ß–∏—Å–ª–µ–Ω–Ω—ã–π', ru: '**–ß–∏—Å–ª–µ–Ω–Ω—ã–π –ú–∞—Å—à—Ç–∞–±** ‚Äî —ç—Ç–æ –¥—Ä–æ–±—å. –ù–∞–ø—Ä–∏–º–µ—Ä, $1:1000$ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ $1$ —Å–º –Ω–∞ –∫–∞—Ä—Ç–µ —Ä–∞–≤–µ–Ω $1000$ —Å–º ($10$ –º) –Ω–∞ –º–µ—Å—Ç–Ω–æ—Å—Ç–∏.', kz: '**–°–∞–Ω–¥—ã“õ –ú–∞—Å—à—Ç–∞–±** ‚Äî –±“±–ª –±”©–ª—à–µ–∫. –ú—ã—Å–∞–ª—ã, $1:1000$ –∫–∞—Ä—Ç–∞–¥–∞“ì—ã $1$ —Å–º –∂–µ—Ä–¥–µ–≥—ñ $1000$ —Å–º-–≥–µ ($10$ –º) —Ç–µ“£ –µ–∫–µ–Ω—ñ–Ω –±—ñ–ª–¥—ñ—Ä–µ–¥—ñ.', en: '**Numerical Scale** is a fraction. E.g., $1:1000$ means $1$ cm on the map equals $1000$ cm ($10$ m) on the ground.' },
            { icon: 'üó£Ô∏è', metric: '–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π', ru: '–ü—Ä–∏–º–µ—Ä **–ò–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–≥–æ –ú–∞—Å—à—Ç–∞–±–∞**: "–í $1$ —Å–º $100$ –º". –û–Ω –ø—Ä–æ—Å—Ç –¥–ª—è –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è –∏ —Å—Ä–∞–∑—É —É–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ.', kz: '**–ê—Ç–∞—É–ª—ã –ú–∞—Å—à—Ç–∞–±** –ú—ã—Å–∞–ª—ã: "$1$ —Å–º-–¥–µ $100$ –º". –û–ª “õ–∞–±—ã–ª–¥–∞—É“ì–∞ –æ“£–∞–π –∂”ô–Ω–µ –Ω–∞“õ—Ç—ã “õ–∞—à—ã“õ—Ç—ã“õ—Ç—ã –∫”©—Ä—Å–µ—Ç–µ–¥—ñ.', en: 'Example of **Named Scale**: "One cm equals $100$ m". It is easy to understand and directly shows the real distance.' },
            { icon: 'üìê', metric: '–õ–∏–Ω–µ–π–Ω—ã–π', ru: '**–õ–∏–Ω–µ–π–Ω—ã–π –ú–∞—Å—à—Ç–∞–±** ‚Äî —ç—Ç–æ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –ª–∏–Ω–∏—è —Å –¥–µ–ª–µ–Ω–∏—è–º–∏, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –∏–∑–º–µ—Ä—è—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ü–∏—Ä–∫—É–ª—è.', kz: '**–°—ã–∑—ã“õ—Ç—ã“õ –ú–∞—Å—à—Ç–∞–±** ‚Äî –±“±–ª –±”©–ª—ñ–∫—Ç–µ—Ä—ñ –±–∞—Ä –≥—Ä–∞—Ñ–∏–∫–∞–ª—ã“õ —Å—ã–∑—ã“õ, –æ–ª —Ü–∏—Ä–∫—É–ª—å –∞—Ä“õ—ã–ª—ã “õ–∞—à—ã“õ—Ç—ã“õ—Ç—ã ”©–ª—à–µ—É–≥–µ –º“Ø–º–∫—ñ–Ω–¥—ñ–∫ –±–µ—Ä–µ–¥—ñ.', en: '**Linear Scale** is a graphic line with divisions, allowing distances to be measured using dividers (compass).' },
            { icon: 'üó∫Ô∏è', metric: '–ö—Ä—É–ø–Ω—ã–π', ru: '–ö—Ä—É–ø–Ω—ã–π –º–∞—Å—à—Ç–∞–± (–Ω–∞–ø—Ä–∏–º–µ—Ä, $1:500$) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–ª–∞–Ω–æ–≤ –º–µ—Å—Ç–Ω–æ—Å—Ç–∏ (–∑–¥–∞–Ω–∏—è, —É—á–∞—Å—Ç–∫–∏). –û–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±–æ–ª—å—à—É—é –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é.', kz: '–Ü—Ä—ñ –º–∞—Å—à—Ç–∞–± (–º—ã—Å–∞–ª—ã, $1:500$) –∂–µ—Ä–≥—ñ–ª—ñ–∫—Ç—ñ –∂–µ—Ä–¥—ñ“£ –∂–æ—Å–ø–∞—Ä–ª–∞—Ä—ã “Ø—à—ñ–Ω “õ–æ–ª–¥–∞–Ω—ã–ª–∞–¥—ã (“ì–∏–º–∞—Ä–∞—Ç—Ç–∞—Ä, —É—á–∞—Å–∫–µ–ª–µ—Ä). –û–ª “Ø–ª–∫–µ–Ω –µ–≥–∂–µ–π-—Ç–µ–≥–∂–µ–π–ª—ñ–∫—Ç—ñ –∫”©—Ä—Å–µ—Ç–µ–¥—ñ.', en: 'Large scale (e.g., $1:500$) is used for local area plans (buildings, plots). It shows greater detail.' },
            { icon: 'üåç', metric: '–ú–µ–ª–∫–∏–π', ru: '–ú–µ–ª–∫–∏–π –º–∞—Å—à—Ç–∞–± (–Ω–∞–ø—Ä–∏–º–µ—Ä, $1:10,000,000$) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –∫–∞—Ä—Ç. –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∏–∑–∫–∞—è, –Ω–æ –æ—Ö–≤–∞—Ç —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ ‚Äî –æ–≥—Ä–æ–º–Ω—ã–π.', kz: '“∞—Å–∞“õ –º–∞—Å—à—Ç–∞–± (–º—ã—Å–∞–ª—ã, $1:10,000,000$) –≥–µ–æ–≥—Ä–∞—Ñ–∏—è–ª—ã“õ –∫–∞—Ä—Ç–∞–ª–∞—Ä “Ø—à—ñ–Ω “õ–æ–ª–¥–∞–Ω—ã–ª–∞–¥—ã. –ï–≥–∂–µ–π-—Ç–µ–≥–∂–µ–π–ª—ñ–≥—ñ —Ç”©–º–µ–Ω, –±—ñ—Ä–∞“õ –∞—É–º–∞“õ—Ç—ã “õ–∞–º—Ç—É—ã ‚Äî “Ø–ª–∫–µ–Ω.', en: 'Small scale (e.g., $1:10,000,000$) is used for geographical maps. Detail is low, but the area coverage is vast.' },
            { icon: 'üîó', metric: '–ü–µ—Ä–µ–≤–æ–¥', ru: '–ß—Ç–æ–±—ã –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ $1:50000$ –≤ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π, –Ω—É–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å –Ω–∞ $100$ (–¥–ª—è –º–µ—Ç—Ä–æ–≤): $50000 / 100 = 500$ –º. ($1$ —Å–º $= 500$ –º).', kz: '$1:50000$ -–¥—ã –∞—Ç–∞—É–ª—ã –º–∞—Å—à—Ç–∞–±“õ–∞ –∞—É–¥–∞—Ä—É “Ø—à—ñ–Ω –±”©–ª–≥—ñ—à—Ç—ñ $100$-–≥–µ (–º–µ—Ç—Ä “Ø—à—ñ–Ω) –±”©–ª—É –∫–µ—Ä–µ–∫: $50000 / 100 = 500$ –º. ($1$ —Å–º $= 500$ –º).', en: 'To convert $1:50000$ to named scale, divide the denominator by $100$ (for meters): $50000 / 100 = 500$ m. ($1$ cm $= 500$ m).' },
            { icon: '‚ûñ', metric: '–£–≤–µ–ª–∏—á–µ–Ω–∏–µ', ru: '–ß–µ–º –º–µ–Ω—å—à–µ —á–∏—Å–ª–æ –≤ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª–µ —á–∏—Å–ª–µ–Ω–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∞, —Ç–µ–º **–∫—Ä—É–ø–Ω–µ–µ** —Å–∞–º –º–∞—Å—à—Ç–∞–± –∏ —Ç–µ–º **–±–æ–ª—å—à–µ** –¥–µ—Ç–∞–ª–µ–π –Ω–∞ –∫–∞—Ä—Ç–µ.', kz: '–°–∞–Ω–¥—ã“õ –º–∞—Å—à—Ç–∞–±—Ç—ã“£ –±”©–ª–≥—ñ—à—ñ–Ω–¥–µ–≥—ñ —Å–∞–Ω –Ω–µ“ì“±—Ä–ª—ã–º –∞–∑ –±–æ–ª—Å–∞, –º–∞—Å—à—Ç–∞–± —Å–æ“ì“±—Ä–ª—ã–º **—ñ—Ä—ñ** –±–æ–ª–∞–¥—ã –∂”ô–Ω–µ –∫–∞—Ä—Ç–∞–¥–∞“ì—ã –µ–≥–∂–µ–π-—Ç–µ–≥–∂–µ–π–ª—ñ–≥—ñ —Å–æ“ì“±—Ä–ª—ã–º **–∫”©–ø** –±–æ–ª–∞–¥—ã.', en: 'The smaller the number in the denominator of the numerical scale, the **larger** the scale itself, and the **more** detail is on the map.' },
            { icon: '‚úñÔ∏è', metric: '–†–∞—Å—á–µ—Ç', ru: '–§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á–µ—Ç–∞: **–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –º–µ—Å—Ç–Ω–æ—Å—Ç–∏** $=$ **–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –∫–∞—Ä—Ç–µ** $\times$ **–ó–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å –º–∞—Å—à—Ç–∞–±–∞**.', kz: '–ï—Å–µ–ø—Ç–µ—É —Ñ–æ—Ä–º—É–ª–∞—Å—ã: **–ñ–µ—Ä–¥–µ–≥—ñ “õ–∞—à—ã“õ—Ç—ã“õ** $=$ **–ö–∞—Ä—Ç–∞–¥–∞“ì—ã “õ–∞—à—ã“õ—Ç—ã“õ** $\times$ **–ú–∞—Å—à—Ç–∞–± –±”©–ª–≥—ñ—à—ñ**.', en: 'Calculation formula: **Distance on Ground** $=$ **Distance on Map** $\times$ **Scale Denominator**.' },
            { icon: 'üîÑ', metric: '–¢–æ—á–Ω–æ—Å—Ç—å', ru: '–¢–æ—á–Ω–æ—Å—Ç—å –º–∞—Å—à—Ç–∞–±–∞ ‚Äî —ç—Ç–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –º–µ—Å—Ç–Ω–æ—Å—Ç–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ $0.1$ –º–º –Ω–∞ –ø–ª–∞–Ω–µ. –î–ª—è $1:10000$ —Ç–æ—á–Ω–æ—Å—Ç—å $10000 \times 0.1$ –º–º $= 1$ –º.', kz: '–ú–∞—Å—à—Ç–∞–±—Ç—ã“£ –¥”ô–ª–¥—ñ–≥—ñ ‚Äî –∂–æ—Å–ø–∞—Ä–¥–∞“ì—ã $0.1$ –º–º-–≥–µ —Å”ô–π–∫–µ—Å –∫–µ–ª–µ—Ç—ñ–Ω –∂–µ—Ä–¥–µ–≥—ñ “õ–∞—à—ã“õ—Ç—ã“õ. $1:10000$ “Ø—à—ñ–Ω –¥”ô–ª–¥—ñ–∫ $10000 \times 0.1$ –º–º $= 1$ –º.', en: 'Scale accuracy is the distance on the ground corresponding to $0.1$ mm on the plan. For $1:10000$, accuracy is $10000 \times 0.1$ mm $= 1$ m.' },
            { icon: 'üö®', metric: '–ò—Å–∫–∞–∂–µ–Ω–∏–µ', ru: '–ù–∞ –≥–ª–æ–±—É—Å–µ –º–∞—Å—à—Ç–∞–± –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π, –Ω–æ –Ω–∞ –ø–ª–æ—Å–∫–∏—Ö –∫–∞—Ä—Ç–∞—Ö (–æ—Å–æ–±–µ–Ω–Ω–æ –º–µ–ª–∫–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∞) –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å **–∏—Å–∫–∞–∂–µ–Ω–∏—è** —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π –∏ —Ñ–æ—Ä–º.', kz: '–ì–ª–æ–±—É—Å—Ç–∞ –º–∞—Å—à—Ç–∞–± —Ç“±—Ä–∞“õ—Ç—ã, –±—ñ—Ä–∞“õ –∂–∞–∑—ã“õ –∫–∞—Ä—Ç–∞–ª–∞—Ä–¥–∞ (”ô—Å—ñ—Ä–µ—Å–µ “±—Å–∞“õ –º–∞—Å—à—Ç–∞–±—Ç—ã) “õ–∞—à—ã“õ—Ç—ã“õ—Ç–∞—Ä –º–µ–Ω –ø—ñ—à—ñ–Ω–¥–µ—Ä–¥—ñ“£ **–±“±—Ä–º–∞–ª–∞–Ω—É—ã** ”ô—Ä“õ–∞—à–∞–Ω –±–æ–ª–∞–¥—ã.', en: 'The scale is constant on a globe, but flat maps (especially small scale) always have **distortions** of distances and shapes.' }
        ];
        // --- –ö–û–ù–ï–¶ –ü–†–ê–í–ò–õ ---

        // –¢–µ–∫—Å—Ç—ã –¥–ª—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ (–ö–ê–†–¢–ê)
        const calcTexts = {
            ru: {
                title: 'üó∫Ô∏è –ö–∞—Ä—Ç–∞: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –†–∞—Å—Å—Ç–æ—è–Ω–∏–π',
                desc: '**RU:** –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–µ–Ω–Ω—ã–π –º–∞—Å—à—Ç–∞–± ($1:X$, –Ω–∞–ø—Ä–∏–º–µ—Ä, $10000$) –∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –ø–ª–∞–Ω–µ (–≤ —Å–º), —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ —Ä–µ–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –º–µ—Å—Ç–Ω–æ—Å—Ç–∏ (–≤ –º–µ—Ç—Ä–∞—Ö).',
                scaleLabel: '–ß–∏—Å–ª–µ–Ω–Ω—ã–π –ú–∞—Å—à—Ç–∞–± (–ó–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å $X$):',
                distOnMapLabel: '–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –ü–ª–∞–Ω–µ (—Å–º):',
                resultLabel: '–†–µ–∞–ª—å–Ω–æ–µ –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –ú–µ—Å—Ç–Ω–æ—Å—Ç–∏ (–º):',
                placeholderScale: '–ù–∞–ø—Ä–∏–º–µ—Ä, 10000 (–∏–∑ 1:10000)',
                placeholderDist: '–ù–∞–ø—Ä–∏–º–µ—Ä, 5.2'
            },
            kz: {
                title: 'üó∫Ô∏è –ö–∞—Ä—Ç–∞: “ö–∞—à—ã“õ—Ç—ã“õ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã',
                desc: '**KZ:** –ù–∞“õ—Ç—ã “õ–∞—à—ã“õ—Ç—ã“õ—Ç—ã (–º–µ—Ç—Ä–º–µ–Ω) —Ç–∞–±—É “Ø—à—ñ–Ω —Å–∞–Ω–¥—ã“õ –º–∞—Å—à—Ç–∞–±—Ç—ã ($1:X$, –º—ã—Å–∞–ª—ã, $10000$) –∂”ô–Ω–µ –∂–æ—Å–ø–∞—Ä–¥–∞“ì—ã “õ–∞—à—ã“õ—Ç—ã“õ—Ç—ã (—Å–º-–º–µ–Ω) –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑.',
                scaleLabel: '–°–∞–Ω–¥—ã“õ –ú–∞—Å—à—Ç–∞–± (–ë”©–ª–≥—ñ—à $X$):',
                distOnMapLabel: '–ñ–æ—Å–ø–∞—Ä–¥–∞“ì—ã “ö–∞—à—ã“õ—Ç—ã“õ (—Å–º):',
                resultLabel: '–ñ–µ—Ä–¥–µ–≥—ñ –ù–∞“õ—Ç—ã “ö–∞—à—ã“õ—Ç—ã“õ (–º):',
                placeholderScale: '–ú—ã—Å–∞–ª—ã, 10000 (1:10000-–Ω–∞–Ω)',
                placeholderDist: '–ú—ã—Å–∞–ª—ã, 5.2'
            },
            en: {
                title: 'üó∫Ô∏è Map: Distance Calculator',
                desc: '**EN:** Enter the numerical scale denominator ($1:X$, e.g., $10000$) and the map distance (in cm) to find the actual distance on the ground (in meters).',
                scaleLabel: 'Numerical Scale Denominator ($X$):',
                distOnMapLabel: 'Distance on Map (cm):',
                resultLabel: 'Actual Distance on Ground (m):',
                placeholderScale: 'E.g., 10000 (from 1:10000)',
                placeholderDist: 'E.g., 5.2'
            }
        };

        // –§—É–Ω–∫—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Ñ–∞–∫—Ç–æ–≤ (–ü–õ–ê–ù)
        function renderFacts(lang) {
            const factsGrid = document.getElementById('facts-grid');
            let factsHTML = '';

            scaleRules.forEach(fact => {
                const factText = fact[lang] || fact.ru;

                factsHTML += `
                    <div class="fact-card rounded-xl shadow-lg p-4 flex flex-col justify-start">
                        <div class="flex items-center space-x-2 mb-2">
                            <div class="fact-icon">${fact.icon}</div>
                            <div class="fact-metric font-bold">${fact.metric}</div>
                        </div>
                        <p class="fact-text text-gray-300">${factText}</p>
                    </div>
                `;
            });

            factsGrid.innerHTML = factsHTML;
            updateActiveButton(lang);
            updateCalculatorUI(lang);
        }

        // –§—É–Ω–∫—Ü–∏—è: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ (–ö–ê–†–¢–ê)
        function updateCalculatorUI(lang) {
            const texts = calcTexts[lang];

            document.getElementById('map-calc-title').textContent = texts.title;
            document.getElementById('map-calc-desc').innerHTML = texts.desc;

            document.getElementById('scale-label').textContent = texts.scaleLabel;
            document.getElementById('dist-on-map-label').textContent = texts.distOnMapLabel;
            document.getElementById('result-label').textContent = texts.resultLabel;

            document.getElementById('scale-input').placeholder = texts.placeholderScale;
            document.getElementById('dist-on-map-input').placeholder = texts.placeholderDist;

            // –ü–µ—Ä–µ—Å—á–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø—Ä–∏ —Å–º–µ–Ω–µ —è–∑—ã–∫–∞, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –≤–≤–µ–¥–µ–Ω—ã
            calculateDistance();
        }


        // –§—É–Ω–∫—Ü–∏—è —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è
        function calculateDistance() {
            const scaleDenominator = parseFloat(document.getElementById('scale-input').value);
            const distOnMap = parseFloat(document.getElementById('dist-on-map-input').value);
            const resultElement = document.getElementById('calc-result');

            if (isNaN(scaleDenominator) || isNaN(distOnMap) || scaleDenominator <= 0) {
                resultElement.textContent = '0.00 ' + (currentLang === 'ru' ? '–º' : (currentLang === 'kz' ? '–º' : 'm'));
                return;
            }

            // –§–æ—Ä–º—É–ª–∞: (–î–∏—Å—Ç–∞–Ω—Ü–∏—è –Ω–∞ –ø–ª–∞–Ω–µ * –ó–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å –º–∞—Å—à—Ç–∞–±–∞) / 100 (–¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ —Å–º –≤ –º)
            const realDistanceMeters = (distOnMap * scaleDenominator) / 100;

            let unit = '';
            if (currentLang === 'ru') {
                unit = '–º';
            } else if (currentLang === 'kz') {
                unit = '–º';
            } else {
                unit = 'm';
            }

            resultElement.textContent = realDistanceMeters.toFixed(2) + ' ' + unit;
        }


        // –§—É–Ω–∫—Ü–∏—è: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç—å—é —è–∑—ã–∫–æ–≤—ã—Ö –±–ª–æ–∫–æ–≤
        function updateContentVisibility(lang) {
            const languages = ['ru', 'kz', 'en'];

            languages.forEach(l => {
                const elements = document.querySelectorAll(`.${l}-text`);
                elements.forEach(el => {
                    if (l === lang) {
                        el.classList.remove('hidden');
                    } else {
                        el.classList.add('hidden');
                    }
                });
            });
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —è–∑—ã–∫–∞
        function switchLang(lang) {
            currentLang = lang;
            renderFacts(lang);
            updateContentVisibility(lang);
        }

        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏
        function updateActiveButton(activeLang) {
            document.querySelectorAll('.lang-button').forEach(button => {
                if (button.dataset.lang === activeLang) {
                    button.classList.add('active');
                } else {
                    button.classList.remove('active');
                }
            });
        }


        document.addEventListener('DOMContentLoaded', () => {
            // –ü—Ä–∏–≤—è–∑–∫–∞ —Å–æ–±—ã—Ç–∏–π –∫ –∫–Ω–æ–ø–∫–∞–º
            document.getElementById('lang-ru').addEventListener('click', () => switchLang('ru'));
            document.getElementById('lang-kz').addEventListener('click', () => switchLang('kz'));
            document.getElementById('lang-en').addEventListener('click', () => switchLang('en'));

            // –ü—Ä–∏–≤—è–∑–∫–∞ –∫–ª–µ–π–∫–æ–≥–æ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
            document.getElementById('scale-input').addEventListener('input', calculateDistance);
            document.getElementById('dist-on-map-input').addEventListener('input', calculateDistance);

            // –ü–µ—Ä–≤–∏—á–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
            switchLang(currentLang);
        });
    </script>
</head>
<body class="text-gray-100">

<header class="bg-[#2c2c43] text-center p-8 shadow-2xl border-b-8 border-[#e94560]">

        <!-- Language Switcher Buttons -->
        <div class="flex justify-center space-x-4 mb-6">
            <button id="lang-ru" data-lang="ru" class="lang-button">–†–£–°</button>
            <button id="lang-kz" data-lang="kz" class="lang-button">–ö–ê–ó</button>
            <button id="lang-en" data-lang="en" class="lang-button">ENG</button>
        </div>

        <h1 class="text-4xl md:text-6xl font-black uppercase tracking-wider gradient-title">–ú–ê–°–®–¢–ê–ë –ü–õ–ê–ù–ê</h1>
        <!-- Subtitles controlled by visibility toggling -->
        <p class="text-xl md:text-3xl font-extrabold mt-2 text-[#ff7e5f] ru-text">–§–û–†–ú–£–õ–ê –ü–ï–†–ï–í–û–î–ê –†–ê–°–°–¢–û–Ø–ù–ò–ô</p>
        <p class="text-xl md:text-3xl font-extrabold mt-2 text-[#ff7e5f] kz-text hidden">“ö–ê–®–´“ö–¢–´“ö–¢–´ –ê–£–´–°–¢–´–†–£ –§–û–†–ú–£–õ–ê–°–´</p>
        <p class="text-xl md:text-3xl font-extrabold mt-2 text-[#ff7e5f] en-text hidden">THE DISTANCE CONVERSION FORMULA</p>
    </header>

    <main class="container mx-auto p-4 md:p-10">

        <!-- –°–ï–ö–¶–ò–Ø 1: –ö–ê–†–¢–ê (–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä) -->
        <section class="mb-12 bg-[#2c2c43] p-6 rounded-xl shadow-xl border-4 border-[#ff7e5f]">

            <!-- Map Titles (Fully localized) -->
            <h2 id="map-calc-title" class="text-3xl font-extrabold pb-2 text-[#e94560]">üó∫Ô∏è –ö–∞—Ä—Ç–∞: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –†–∞—Å—Å—Ç–æ—è–Ω–∏–π</h2>

            <!-- Description paragraphs (Fully localized) -->
            <p id="map-calc-desc" class="text-lg text-gray-300 mb-6"></p>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 items-end">
                <!-- –í–≤–æ–¥ 1: –ó–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å –º–∞—Å—à—Ç–∞–±–∞ -->
                <div>
                    <label id="scale-label" for="scale-input" class="block text-sm font-medium text-gray-400">–ß–∏—Å–ª–µ–Ω–Ω—ã–π –ú–∞—Å—à—Ç–∞–± (–ó–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å X):</label>
                    <input type="number" id="scale-input" class="calc-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 10000 (–∏–∑ 1:10000)">
                </div>

                <!-- –í–≤–æ–¥ 2: –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –ø–ª–∞–Ω–µ -->
                <div>
                    <label id="dist-on-map-label" for="dist-on-map-input" class="block text-sm font-medium text-gray-400">–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –ü–ª–∞–Ω–µ (—Å–º):</label>
                    <input type="number" id="dist-on-map-input" class="calc-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 5.2">
                </div>

                <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç -->
                <div class="flex flex-col">
                    <label id="result-label" class="block text-sm font-medium text-gray-400 mb-2">–†–µ–∞–ª—å–Ω–æ–µ –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –ú–µ—Å—Ç–Ω–æ—Å—Ç–∏ (–º):</label>
                    <div id="calc-result" class="calc-result">
                        0.00 –º
                    </div>
                </div>
            </div>
        </section>

        <!-- –°–ï–ö–¶–ò–Ø 2: –ü–õ–ê–ù (–°–µ—Ç–∫–∞ –ü—Ä–∞–≤–∏–ª) -->

        <!-- Title for the Fact Grid (Fully localized) -->
        <h2 class="text-3xl font-extrabold text-center mb-10 pb-2 text-[#ff7e5f] ru-text">üìë –ü–ª–∞–Ω: 10 –û—Å–Ω–æ–≤–Ω—ã—Ö –ü—Ä–∞–≤–∏–ª –ú–∞—Å—à—Ç–∞–±–∞</h2>
        <h2 class="text-3xl font-extrabold text-center mb-10 pb-2 text-[#ff7e5f] kz-text hidden">üìë –ñ–æ—Å–ø–∞—Ä: –ú–∞—Å—à—Ç–∞–±—Ç—ã“£ 10 –ù–µ–≥—ñ–∑–≥—ñ –ï—Ä–µ–∂–µ—Å—ñ</h2>
        <h2 class="text-3xl font-extrabold text-center mb-10 pb-2 text-[#ff7e5f] en-text hidden">üìë Plan: 10 Essential Scale Rules</h2>

        <!-- FACT GRID (Presents all 10 facts) -->
        <div id="facts-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Facts will be inserted here by JavaScript -->
        </div>

    </main>

    <footer class="text-center p-6 mt-12 bg-[#2c2c43] text-gray-400">
        <p class="text-sm">–ú–∞—Å—à—Ç–∞–± ‚Äî –æ—Å–Ω–æ–≤–∞ –∫–∞—Ä—Ç–æ–≥—Ä–∞—Ñ–∏–∏. –£—Å–ø–µ—à–Ω—ã–π —Ä–∞—Å—á–µ—Ç ‚Äî –∑–∞–ª–æ–≥ –≤–µ—Ä–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏!</p>
    </footer>


<script type="text/javascript" src="qrc:///qtwebchannel/qwebchannel.js"></script>







<style data-oi-map-overlay>
.oi-map-btn{
  position:fixed; right:16px; bottom:16px; z-index:9999;
  padding:10px 14px; border-radius:999px; border:1px solid rgba(0,0,0,.15);
  background:#fff; cursor:pointer; font:600 14px/1.1 system-ui,-apple-system,Segoe UI,Roboto,Arial;
  box-shadow:0 8px 20px rgba(0,0,0,.12);
}
.oi-map-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.72); z-index:10000;
  display:none; align-items:center; justify-content:center; padding:18px;
}
.oi-map-backdrop[aria-hidden="false"]{ display:flex; }
.oi-map-modal{
  width:min(1100px, 100%); height:min(85vh, 900px);
  background:#111; border-radius:14px; overflow:hidden; position:relative;
  box-shadow:0 20px 60px rgba(0,0,0,.35);
}
.oi-map-close{
  position:absolute; top:10px; right:10px; z-index:3;
  width:40px; height:40px; border-radius:999px; border:1px solid rgba(255,255,255,.25);
  background:rgba(0,0,0,.35); color:#fff; cursor:pointer; font-size:22px;
}
.oi-map-viewport{
  width:100%; height:100%; overflow:auto; -webkit-overflow-scrolling:touch;
  touch-action: pan-x pan-y;
  background:#000;
  padding-top:56px; /* –º–µ—Å—Ç–æ –ø–æ–¥ —Ç—É–ª–±–∞—Ä */
}
.oi-map-img{
  display:block;
  transform-origin: 0 0;
  user-select:none; -webkit-user-drag:none;
}
.oi-map-toolbar{
  position:absolute; left:12px; top:12px; right:12px; z-index:2;
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  pointer-events:none;
}
.oi-map-tabs{ display:flex; gap:8px; pointer-events:auto; }
.oi-map-tab{
  width:36px; height:34px; border-radius:10px;
  border:1px solid rgba(255,255,255,.22);
  background:rgba(0,0,0,.35); color:#fff;
  cursor:pointer; font:600 14px system-ui,-apple-system,Segoe UI,Roboto,Arial;
}
.oi-map-tab.is-active{
  background:rgba(255,255,255,.12);
  border-color: rgba(255,255,255,.45);
}
.oi-map-hint{
  pointer-events:none;
  color:#fff; opacity:.85; font:12px/1.2 system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:rgba(0,0,0,.35); border:1px solid rgba(255,255,255,.18);
  padding:8px 10px; border-radius:10px;
}
</style>

<button class="oi-map-btn" type="button" data-oi-map-btn>üó∫Ô∏è –ö–∞—Ä—Ç–∞</button>

<div class="oi-map-backdrop" aria-hidden="true" data-oi-map-backdrop>
  <div class="oi-map-modal" role="dialog" aria-modal="true" aria-label="–ö–∞—Ä—Ç–∞">
    <button class="oi-map-close" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å" data-oi-map-close>√ó</button>

    <div class="oi-map-toolbar">
      <div class="oi-map-tabs">
        <button type="button" class="oi-map-tab is-active" data-oi-map-tab="1">1</button>
        <button type="button" class="oi-map-tab" data-oi-map-tab="2">2</button>
        <button type="button" class="oi-map-tab" data-oi-map-tab="3">3</button>
        <button type="button" class="oi-map-tab" data-oi-map-tab="4">4</button>
      </div>
      <div class="oi-map-hint">–ö–æ–ª—ë—Å–∏–∫–æ/—Ç—Ä–µ–∫–ø–∞–¥ ‚Äî –∑—É–º ‚Ä¢ Esc ‚Äî –∑–∞–∫—Ä—ã—Ç—å</div>
    </div>

    <div class="oi-map-viewport" data-oi-map-viewport>
      <img class="oi-map-img" data-oi-map-img data-map="1" src="../../assets/maps/karta_1.png" alt="–ö–∞—Ä—Ç–∞ 1" style="display:block;">
<img class="oi-map-img" data-oi-map-img data-map="2" src="../../assets/maps/karta_2.png" alt="–ö–∞—Ä—Ç–∞ 2" style="display:none;">
<img class="oi-map-img" data-oi-map-img data-map="3" src="../../assets/maps/karta_3.png" alt="–ö–∞—Ä—Ç–∞ 3" style="display:none;">
<img class="oi-map-img" data-oi-map-img data-map="4" src="../../assets/maps/karta_4.png" alt="–ö–∞—Ä—Ç–∞ 4" style="display:none;">
    </div>
  </div>
</div>


<script data-oi-map-overlay>
(function(){
  const btn = document.querySelector('[data-oi-map-btn]');
  const backdrop = document.querySelector('[data-oi-map-backdrop]');
  const closeBtn = document.querySelector('[data-oi-map-close]');
  const viewport = document.querySelector('[data-oi-map-viewport]');
  const tabs = Array.from(document.querySelectorAll('[data-oi-map-tab]'));
  const imgs = Array.from(document.querySelectorAll('[data-oi-map-img][data-map]'));
  if(!btn || !backdrop || !closeBtn || !viewport || imgs.length === 0) return;

  let scale = 1;

  function applyScale(){
    imgs.forEach(img => { img.style.transform = `scale(${scale})`; });
  }
  function openMap(){
    backdrop.setAttribute('aria-hidden','false');
    document.body.style.overflow = 'hidden';
  }
  function closeMap(){
    backdrop.setAttribute('aria-hidden','true');
    document.body.style.overflow = '';
  }
  function showMap(n){
    imgs.forEach(img => {
      img.style.display = (img.getAttribute('data-map') === String(n)) ? 'block' : 'none';
    });
    tabs.forEach(t => t.classList.toggle('is-active', t.getAttribute('data-oi-map-tab') === String(n)));
    viewport.scrollTop = 0;
    viewport.scrollLeft = 0;
  }

  btn.addEventListener('click', openMap);
  closeBtn.addEventListener('click', closeMap);
  backdrop.addEventListener('click', (e)=>{ if(e.target === backdrop) closeMap(); });
  window.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeMap(); });

  tabs.forEach(t => t.addEventListener('click', () => showMap(t.getAttribute('data-oi-map-tab'))));

  viewport.addEventListener('wheel', (e)=>{
    if(backdrop.getAttribute('aria-hidden') !== 'false') return;
    e.preventDefault();
    const delta = -Math.sign(e.deltaY) * 0.1;
    scale = Math.min(4, Math.max(0.6, scale + delta));
    applyScale();
  }, {passive:false});

  applyScale();
  showMap(1);
})();
</script>
</body>
</html>
