<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¶–µ—Ä–∫–æ–≤—å –≤ –°—Ä–µ–¥–Ω–∏–µ –≤–µ–∫–∞: –í–ª–∞—Å—Ç—å –î—É—Ö–∞</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Montserrat:wght@700;800&family=Playfair+Display:ital,wght@0,700;1,700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: radial-gradient(circle at top left, #2e1065, #0f172a, #000000);
            color: #f5f3ff;
            min-height: 100vh;
        }
        h1, h2, h3 { font-family: 'Montserrat', sans-serif; }
        .serif { font-family: 'Playfair Display', serif; }
        .glass {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 3rem;
        }
        .btn-lang {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            padding: 0.6rem 1.8rem;
            border-radius: 1.5rem;
            font-weight: 700;
        }
        .btn-lang.active {
            background: #8b5cf6;
            color: white;
            box-shadow: 0 0 30px rgba(139, 92, 246, 0.4);
        }
        .info-panel-accent {
            border-left: 6px solid #8b5cf6;
            background: linear-gradient(90deg, rgba(139, 92, 246, 0.05), transparent);
        }
        .custom-scrollbar::-webkit-scrollbar { width: 5px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #8b5cf6; border-radius: 10px; }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body class="p-4 md:p-10">

<!-- –ö–ù–û–ü–ö–ê –ù–ê–ó–ê–î -->
<div style="position: fixed; top: 20px; left: 20px; z-index: 10000;">
    <button onclick="goBack()" style="
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border: none;
        color: white;
        padding: 12px 24px;
        border-radius: 10px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        transition: all 0.3s ease;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    " onmouseover="this.style.transform='translateX(-5px)'; this.style.boxShadow='0 6px 20px rgba(102, 126, 234, 0.6)';" 
       onmouseout="this.style.transform='translateX(0)'; this.style.boxShadow='0 4px 15px rgba(102, 126, 234, 0.4)';">
        ‚Üê –ù–∞–∑–∞–¥
    </button>
</div>


    <!-- Header -->
    <header class="max-w-7xl mx-auto flex flex-col lg:flex-row justify-between items-center mb-12 gap-8 text-center lg:text-left">
        <div class="space-y-2">
            <h1 id="main-title" class="text-4xl md:text-6xl font-black tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-white to-indigo-300 uppercase">
                –¶–µ—Ä–∫–æ–≤—å –∏ –ö–ª–∏—Ä
            </h1>
            <p id="sub-title" class="text-purple-200/40 text-lg md:text-xl font-medium tracking-[0.3em] uppercase italic">–û–ø–æ—Ä–∞ —Å—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤–æ–≥–æ –º–∏—Ä–æ–∑–¥–∞–Ω–∏—è</p>
        </div>
        <div class="flex gap-3 glass p-2 border-purple-500/20">
            <button onclick="setLang('ru')" id="lang-ru" class="btn-lang active">RU</button>
            <button onclick="setLang('kz')" id="lang-kz" class="btn-lang">KZ</button>
            <button onclick="setLang('en')" id="lang-en" class="btn-lang">EN</button>
        </div>
    </header>

    <main class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-10 mb-16">
        <!-- Canvas Visual Model -->
        <div class="lg:col-span-7 glass p-8 md:p-10 flex flex-col border-purple-900/30 shadow-2xl">
            <h2 id="visual-title" class="text-2xl mb-6 text-purple-400 uppercase font-bold tracking-widest flex items-center gap-3">
                <span class="w-10 h-1 bg-purple-600 inline-block"></span>
                –ò–µ—Ä–∞—Ä—Ö–∏—è –∏ –ú–æ–≥—É—â–µ—Å—Ç–≤–æ
            </h2>
            <div class="relative flex-grow bg-slate-900/60 rounded-[2.5rem] border border-purple-900/40 overflow-hidden shadow-inner flex items-center justify-center">
                <canvas id="churchCanvas"></canvas>
            </div>
            <p id="hint" class="mt-6 text-sm text-purple-500/50 italic text-center uppercase tracking-widest">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–∏–º–≤–æ–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è —Ä–æ–ª–∏ –¶–µ—Ä–∫–≤–∏</p>
        </div>

        <!-- Dynamic Info Panel -->
        <div class="lg:col-span-5 glass p-8 md:p-10 flex flex-col info-panel-accent">
            <div id="info-content" class="custom-scrollbar overflow-y-auto h-full pr-4">
                <div id="info-placeholder" class="h-full flex flex-col justify-center">
                    <h3 class="text-3xl md:text-4xl text-purple-400 mb-8 font-black uppercase leading-tight" id="placeholder-title">–°–≤—è—â–µ–Ω–Ω–∞—è –≤–ª–∞—Å—Ç—å</h3>
                    <p class="text-slate-300 leading-relaxed text-lg" id="placeholder-text">
                        –ö–∞—Ç–æ–ª–∏—á–µ—Å–∫–∞—è —Ü–µ—Ä–∫–æ–≤—å –±—ã–ª–∞ —Å–∞–º–æ–π –±–æ–≥–∞—Ç–æ–π –∏ –≤–ª–∏—è—Ç–µ–ª—å–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–µ–π –°—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤—å—è. –û–Ω–∞ –≤–ª–∞–¥–µ–ª–∞ —Ç—Ä–µ—Ç—å—é –≤—Å–µ—Ö –∑–µ–º–µ–ª—å –∏ –¥–∏–∫—Ç–æ–≤–∞–ª–∞ –≤–æ–ª—é –∫–æ—Ä–æ–ª—è–º. –í—ã–±–µ—Ä–∏—Ç–µ –æ–±–ª–∞—Å—Ç—å –Ω–∞ —Å—Ö–µ–º–µ.
                    </p>
                    <div class="mt-10 space-y-6">
                        <div class="flex items-center gap-5 p-5 bg-white/5 rounded-3xl border border-white/5">
                            <span class="text-3xl">üáªatican</span>
                            <span id="hint-1" class="text-purple-200/60 font-bold uppercase text-xs tracking-widest">–ü–∞–ø—Å–∫–∏–π –ø—Ä–µ—Å—Ç–æ–ª</span>
                        </div>
                        <div class="flex items-center gap-5 p-5 bg-white/5 rounded-3xl border border-white/5">
                            <span class="text-3xl">üïØÔ∏è</span>
                            <span id="hint-2" class="text-purple-200/60 font-bold uppercase text-xs tracking-widest">–ú–æ–Ω–∞—Å—Ç—ã—Ä—Å–∫–∞—è –º—É–¥—Ä–æ—Å—Ç—å</span>
                        </div>
                    </div>
                </div>

                <div id="info-data" class="hidden animate-in fade-in duration-500">
                    <span id="info-tag" class="inline-block bg-purple-950/40 text-purple-400 px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest mb-6 border border-purple-800"></span>
                    <h3 id="info-title" class="text-3xl md:text-4xl text-white font-black mb-8 uppercase leading-none"></h3>
                    <div id="info-desc" class="text-slate-200 leading-relaxed text-lg mb-10 space-y-4"></div>
                    <div class="p-8 bg-indigo-950/40 rounded-[2.5rem] border border-purple-900/30 shadow-xl">
                        <strong class="text-purple-400 block mb-3 text-xs uppercase tracking-[0.2em]" id="label-spiritual">–î—É—Ö–æ–≤–Ω–∞—è –∏—Å—Ç–∏–Ω–∞:</strong>
                        <p id="info-fact" class="text-purple-50 text-base italic leading-relaxed"></p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Detailed Fact Cards -->
    <section class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8 mb-16">
        <div class="glass p-10 border-b-8 border-purple-800 hover:bg-white/5 transition-all">
            <div class="text-4xl mb-6">üëë</div>
            <h3 id="card1-title" class="text-xl font-black mb-4 text-purple-400 uppercase">–†–∏–º—Å–∫–∏–π –ü–∞–ø–∞</h3>
            <p id="card1-text" class="text-slate-400 text-sm leading-relaxed">–ì–ª–∞–≤–∞ –≤—Å–µ–π –ö–∞—Ç–æ–ª–∏—á–µ—Å–∫–æ–π —Ü–µ—Ä–∫–≤–∏, —Å—á–∏—Ç–∞–≤—à–∏–π—Å—è –ø—Ä–µ–µ–º–Ω–∏–∫–æ–º –∞–ø–æ—Å—Ç–æ–ª–∞ –ü–µ—Ç—Ä–∞. –û–Ω –æ–±–ª–∞–¥–∞–ª –ø—Ä–∞–≤–æ–º –æ—Ç–ª—É—á–∞—Ç—å –∫–æ—Ä–æ–ª–µ–π –æ—Ç —Ü–µ—Ä–∫–≤–∏, —á—Ç–æ –¥–µ–ª–∞–ª–æ –∏—Ö –≤–ª–∞—Å—Ç—å –Ω–µ–∑–∞–∫–æ–Ω–Ω–æ–π –≤ –≥–ª–∞–∑–∞—Ö –Ω–∞—Ä–æ–¥–∞.</p>
        </div>
        <div class="glass p-10 border-b-8 border-indigo-900 hover:bg-white/5 transition-all">
            <div class="text-4xl mb-6">üìú</div>
            <h3 id="card2-title" class="text-xl font-black mb-4 text-indigo-400 uppercase">–î–µ—Å—è—Ç–∏–Ω–∞</h3>
            <p id="card2-text" class="text-slate-400 text-sm leading-relaxed">–ù–∞–ª–æ–≥ –≤ –ø–æ–ª—å–∑—É –¶–µ—Ä–∫–≤–∏. –ö–∞–∂–¥—ã–π —Ö—Ä–∏—Å—Ç–∏–∞–Ω–∏–Ω –±—ã–ª –æ–±—è–∑–∞–Ω –æ—Ç–¥–∞–≤–∞—Ç—å –¥–µ—Å—è—Ç—É—é —á–∞—Å—Ç—å —Å–≤–æ–µ–≥–æ –¥–æ—Ö–æ–¥–∞ –∏–ª–∏ —É—Ä–æ–∂–∞—è –Ω–∞ –Ω—É–∂–¥—ã —Ö—Ä–∞–º–æ–≤, –º–æ–Ω–∞—Å—Ç—ã—Ä–µ–π –∏ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –¥—É—Ö–æ–≤–µ–Ω—Å—Ç–≤–∞.</p>
        </div>
        <div class="glass p-10 border-b-8 border-stone-700 hover:bg-white/5 transition-all">
            <div class="text-4xl mb-6">‚õ™</div>
            <h3 id="card3-title" class="text-xl font-black mb-4 text-stone-300 uppercase">–ú–æ–Ω–∞—Å—Ç—ã—Ä–∏</h3>
            <p id="card3-text" class="text-slate-400 text-sm leading-relaxed">–¶–µ–Ω—Ç—Ä—ã –∫—É–ª—å—Ç—É—Ä—ã –∏ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è. –ú–æ–Ω–∞—Ö–∏ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–ª–∏ –¥—Ä–µ–≤–Ω–∏–µ –∫–Ω–∏–≥–∏ –≤ <strong>—Å–∫—Ä–∏–ø—Ç–æ—Ä–∏—è—Ö</strong>, –ª–µ—á–∏–ª–∏ –±–æ–ª—å–Ω—ã—Ö –∏ –≤–Ω–µ–¥—Ä—è–ª–∏ –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –∑–µ–º–ª–µ–¥–µ–ª–∏—è –≤ —Å–≤–æ–∏—Ö —Ö–æ–∑—è–π—Å—Ç–≤–∞—Ö.</p>
        </div>
    </section>

    <!-- Footer -->
    <footer class="max-w-7xl mx-auto text-center p-20 glass border-purple-900/20 mb-10">
        <p id="footer-quote" class="text-3xl md:text-4xl serif italic text-purple-100/70 leading-tight max-w-5xl mx-auto">
            ¬´–¶–µ—Ä–∫–æ–≤—å ‚Äî —ç—Ç–æ –¥—É—à–∞ –º–∏—Ä–∞, –Ω–∞–ø—Ä–∞–≤–ª—è—é—â–∞—è –º–µ—á–∏ –∫–æ—Ä–æ–ª–µ–π –∏ –ø–ª—É–≥–∏ –ø–∞—Ö–∞—Ä–µ–π –∫ –Ω–µ–±–µ—Å–Ω–æ–º—É –±–ª–∞–≥—É¬ª.
        </p>
    </footer>

    <script>
        const translations = {
            ru: {
                title: "–¶–µ—Ä–∫–æ–≤—å –∏ –ö–ª–∏—Ä",
                subtitle: "–û–ø–æ—Ä–∞ —Å—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤–æ–≥–æ –º–∏—Ä–æ–∑–¥–∞–Ω–∏—è",
                visualTitle: "–ò–µ—Ä–∞—Ä—Ö–∏—è –∏ –ú–æ–≥—É—â–µ—Å—Ç–≤–æ",
                hint: "–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–∏–º–≤–æ–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è —Ä–æ–ª–∏ –¶–µ—Ä–∫–≤–∏",
                placeholderTitle: "–°–≤—è—â–µ–Ω–Ω–∞—è –≤–ª–∞—Å—Ç—å",
                placeholderText: "–í –°—Ä–µ–¥–Ω–∏–µ –≤–µ–∫–∞ –¶–µ—Ä–∫–æ–≤—å –±—ã–ª–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ–º –≤ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ. –£–∑–Ω–∞–π—Ç–µ, –∫–∞–∫ –æ–Ω–∞ —Ö—Ä–∞–Ω–∏–ª–∞ –∑–Ω–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª—è–ª–∞ —É–º–∞–º–∏ –º–∏–ª–ª–∏–æ–Ω–æ–≤.",
                labelSpiritual: "–î—É—Ö–æ–≤–Ω–∞—è –∏—Å—Ç–∏–Ω–∞:",
                hint1: "–ü–∞–ø—Å–∫–∏–π –ø—Ä–µ—Å—Ç–æ–ª", hint2: "–ú–æ–Ω–∞—Å—Ç—ã—Ä—Å–∫–∞—è –º—É–¥—Ä–æ—Å—Ç—å",
                card1Title: "–†–∏–º—Å–∫–∏–π –ü–∞–ø–∞",
                card1Text: "–í—ã—Å—à–∏–π –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç –ï–≤—Ä–æ–ø—ã. –ï–≥–æ —Å–ª–æ–≤–æ –º–æ–≥–ª–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–æ–π–Ω—ã –∏–ª–∏ –æ–±—ä—è–≤–∏—Ç—å –ö—Ä–µ—Å—Ç–æ–≤—ã–π –ø–æ—Ö–æ–¥.",
                card2Title: "–î–µ—Å—è—Ç–∏–Ω–∞",
                card2Text: "–≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –º–æ—â—å –¶–µ—Ä–∫–≤–∏. –û–≥—Ä–æ–º–Ω—ã–µ –±–æ–≥–∞—Ç—Å—Ç–≤–∞ –ø–æ–∑–≤–æ–ª—è–ª–∏ —Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞–Ω–¥–∏–æ–∑–Ω—ã–µ —Å–æ–±–æ—Ä—ã –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —à–∫–æ–ª—ã.",
                card3Title: "–ú–æ–Ω–∞—Å—Ç—ã—Ä–∏",
                card3Text: "–û–∞–∑–∏—Å—ã –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç–∏. –î–µ–≤–∏–∑ –º–æ–Ω–∞—Ö–æ–≤ 'Ora et labora' (–ú–æ–ª–∏—Å—å –∏ —Ç—Ä—É–¥–∏—Å—å) —Å—Ç–∞–ª –ø—Ä–∞–≤–∏–ª–æ–º –∏—Ö –∂–∏–∑–Ω–∏.",
                footerQuote: "¬´–¶–µ—Ä–∫–æ–≤—å ‚Äî —ç—Ç–æ –¥—É—à–∞ –º–∏—Ä–∞, –Ω–∞–ø—Ä–∞–≤–ª—è—é—â–∞—è –º–µ—á–∏ –∫–æ—Ä–æ–ª–µ–π –∏ –ø–ª—É–≥–∏ –ø–∞—Ö–∞—Ä–µ–π –∫ –Ω–µ–±–µ—Å–Ω–æ–º—É –±–ª–∞–≥—É¬ª.",
                nodes: [
                    { id: 1, tag: "–í–µ—Ä—à–∏–Ω–∞", title: "–ü–∞–ø–∞ –†–∏–º—Å–∫–∏–π", desc: "–°–≤—è—Ç–æ–π –ü—Ä–µ—Å—Ç–æ–ª –≤ –†–∏–º–µ. –ü–∞–ø–∞ ‚Äî –≥–ª–∞–≤–∞ –¶–µ—Ä–∫–≤–∏, –Ω–∞–º–µ—Å—Ç–Ω–∏–∫ –•—Ä–∏—Å—Ç–∞ –Ω–∞ –∑–µ–º–ª–µ. –û–Ω –≤–µ—Ä—à–∏–ª —Å—É–¥ –Ω–∞–¥ —Å–≤–µ—Ç—Å–∫–∏–º–∏ –ø—Ä–∞–≤–∏—Ç–µ–ª—è–º–∏ –∏ —Ö—Ä–∞–Ω–∏–ª —á–∏—Å—Ç–æ—Ç—É –≤–µ—Ä—ã.", fact: "–ü–∞–ø–∞ –ì—Ä–∏–≥–æ—Ä–∏–π VII –≤–≤–µ–ª –ø—Ä–∞–≤–∏–ª–æ –±–µ–∑–±—Ä–∞—á–∏—è (—Ü–µ–ª–∏–±–∞—Ç) –¥–ª—è –≤—Å–µ–≥–æ –¥—É—Ö–æ–≤–µ–Ω—Å—Ç–≤–∞, —á—Ç–æ–±—ã –æ–Ω–æ –Ω–µ –∑–∞–±–æ—Ç–∏–ª–æ—Å—å –æ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞—Ö." },
                    { id: 2, tag: "–ó–Ω–∞–Ω–∏–µ", title: "–°–∫—Ä–∏–ø—Ç–æ—Ä–∏–π", desc: "–ú–∞—Å—Ç–µ—Ä—Å–∫–∞—è –ø—Ä–∏ –º–æ–Ω–∞—Å—Ç—ã—Ä–µ, –≥–¥–µ –º–æ–Ω–∞—Ö–∏ –≤—Ä—É—á–Ω—É—é –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–ª–∏ –ë–∏–±–ª–∏—é –∏ —Ç—Ä—É–¥—ã –∞–Ω—Ç–∏—á–Ω—ã—Ö —É—á–µ–Ω—ã—Ö –Ω–∞ –ø–µ—Ä–≥–∞–º–µ–Ω—Ç–µ. –ö–∞–∂–¥–∞—è –∫–Ω–∏–≥–∞ —Å—Ç–æ–∏–ª–∞ —Ü–µ–ª–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.", fact: "–î–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –æ–¥–Ω–æ–π –±–æ–ª—å—à–æ–π –ë–∏–±–ª–∏–∏ —Ç—Ä–µ–±–æ–≤–∞–ª–∏—Å—å —à–∫—É—Ä—ã —Ü–µ–ª–æ–≥–æ —Å—Ç–∞–¥–∞ —Ç–µ–ª—è—Ç." },
                    { id: 3, tag: "–ì—Ä–µ—Ö", title: "–ò–Ω–¥—É–ª—å–≥–µ–Ω—Ü–∏–∏", desc: "–ì—Ä–∞–º–æ—Ç—ã –æ –ø—Ä–æ—â–µ–Ω–∏–∏ –≥—Ä–µ—Ö–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¶–µ—Ä–∫–æ–≤—å –Ω–∞—á–∞–ª–∞ –ø—Ä–æ–¥–∞–≤–∞—Ç—å –∑–∞ –¥–µ–Ω—å–≥–∏. –≠—Ç–æ –≤—ã–∑—ã–≤–∞–ª–æ –Ω–µ–¥–æ–≤–æ–ª—å—Å—Ç–≤–æ –∏ –ø–æ–∑–∂–µ –ø—Ä–∏–≤–µ–ª–æ –∫ –†–µ—Ñ–æ—Ä–º–∞—Ü–∏–∏.", fact: "–ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ –∏–Ω–¥—É–ª—å–≥–µ–Ω—Ü–∏–∏ –¥–∞–≤–∞–ª–∏—Å—å –∑–∞ –ª–∏—á–Ω—ã–µ –ø–æ–¥–≤–∏–≥–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞ —É—á–∞—Å—Ç–∏–µ –≤ –ö—Ä–µ—Å—Ç–æ–≤–æ–º –ø–æ—Ö–æ–¥–µ." },
                    { id: 4, tag: "–ó–∞—â–∏—Ç–∞", title: "–ò–Ω–∫–≤–∏–∑–∏—Ü–∏—è", desc: "–û—Å–æ–±—ã–π —Ü–µ—Ä–∫–æ–≤–Ω—ã–π —Å—É–¥ –¥–ª—è –±–æ—Ä—å–±—ã —Å –µ—Ä–µ—Ç–∏–∫–∞–º–∏ ‚Äî —Ç–µ–º–∏, –∫—Ç–æ —Å–æ–º–Ω–µ–≤–∞–ª—Å—è –≤ —É—á–µ–Ω–∏–∏ –¶–µ—Ä–∫–≤–∏. –¶–µ–ª—å—é –±—ã–ª–æ '—Å–ø–∞—Å–µ–Ω–∏–µ –¥—É—à–∏' —á–µ—Ä–µ–∑ –ø–æ–∫–∞—è–Ω–∏–µ –∏–ª–∏ —Å—É—Ä–æ–≤—É—é –∫–∞—Ä—É.", fact: "–°–ª–æ–≤–æ '–∏–Ω–∫–≤–∏–∑–∏—Ü–∏—è' –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è —Å –ª–∞—Ç—ã–Ω–∏ –∫–∞–∫ '—Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ'." },
                    { id: 5, tag: "–°–æ—Ü–∏—É–º", title: "–ü—Ä–∏—Ö–æ–¥—Å–∫–∞—è —Ü–µ—Ä–∫–æ–≤—å", desc: "–¶–µ–Ω—Ç—Ä –∂–∏–∑–Ω–∏ –∫–∞–∂–¥–æ–π –¥–µ—Ä–µ–≤–Ω–∏ –∏–ª–∏ –≥–æ—Ä–æ–¥–∞. –ó–¥–µ—Å—å –∫—Ä–µ—Å—Ç–∏–ª–∏, –≤–µ–Ω—á–∞–ª–∏ –∏ –æ—Ç–ø–µ–≤–∞–ª–∏. –¶–µ—Ä–∫–æ–≤–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å –æ–ø—Ä–µ–¥–µ–ª—è–ª –¥–Ω–∏ —Ç—Ä—É–¥–∞ –∏ –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞.", fact: "–í –°—Ä–µ–¥–Ω–∏–µ –≤–µ–∫–∞ –≤—Ä–µ–º—è —Å—á–∏—Ç–∞–ª–∏ –Ω–µ –ø–æ –º–∏–Ω—É—Ç–∞–º, –∞ –ø–æ —Ü–µ—Ä–∫–æ–≤–Ω—ã–º —Å–ª—É–∂–±–∞–º." }
                ]
            },
            kz: {
                title: "–®—ñ—Ä–∫–µ—É –∂”ô–Ω–µ –î—ñ–Ω–±–∞—Å—ã–ª–∞—Ä",
                subtitle: "–û—Ä—Ç–∞“ì–∞—Å—ã—Ä–ª—ã“õ ”ô–ª–µ–º–Ω—ñ“£ —Ç—ñ—Ä–µ–≥—ñ",
                visualTitle: "–ò–µ—Ä–∞—Ä—Ö–∏—è –∂”ô–Ω–µ “ö—É–∞—Ç—Ç—ã–ª—ã“õ",
                hint: "–®—ñ—Ä–∫–µ—É —Ä”©–ª—ñ–Ω –∑–µ—Ä—Ç—Ç–µ—É “Ø—à—ñ–Ω –Ω—ã—à–∞–Ω–¥–∞—Ä–¥—ã –±–∞—Å—ã“£—ã–∑",
                placeholderTitle: "“ö–∞—Å–∏–µ—Ç—Ç—ñ –±–∏–ª—ñ–∫",
                placeholderText: "–û—Ä—Ç–∞ “ì–∞—Å—ã—Ä–ª–∞—Ä–¥–∞ –®—ñ—Ä–∫–µ—É –º–µ–º–ª–µ–∫–µ—Ç —ñ—à—ñ–Ω–¥–µ–≥—ñ –º–µ–º–ª–µ–∫–µ—Ç –±–æ–ª–¥—ã. –û–Ω—ã“£ –±—ñ–ª—ñ–º –º–µ–Ω –º–∏–ª–ª–∏–æ–Ω–¥–∞“ì–∞–Ω –∞–¥–∞–º–Ω—ã“£ —Å–∞–Ω–∞—Å—ã–Ω “õ–∞–ª–∞–π –±–∞—Å“õ–∞—Ä“ì–∞–Ω—ã–Ω –±—ñ–ª—ñ“£—ñ–∑.",
                labelSpiritual: "–†—É—Ö–∞–Ω–∏ –∞“õ–∏“õ–∞—Ç:",
                hint1: "–ü–∞–ø–∞ —Ç–∞“ì—ã", hint2: "–ú–æ–Ω–∞—Å—Ç—ã—Ä—å –¥–∞–Ω–∞–ª—ã“ì—ã",
                card1Title: "–†–∏–º –ü–∞–ø–∞—Å—ã",
                card1Text: "–ï—É—Ä–æ–ø–∞–Ω—ã“£ –∂–æ“ì–∞—Ä“ì—ã –±–µ–¥–µ–ª—ñ. –û–Ω—ã“£ —Å”©–∑—ñ —Å–æ“ì—ã—Å—Ç–∞—Ä–¥—ã —Ç–æ“õ—Ç–∞—Ç–∞ –∞–ª–∞—Ç—ã–Ω –Ω–µ–º–µ—Å–µ –ö—Ä–µ—Å—Ç –∂–æ—Ä—ã“õ—Ç–∞—Ä—ã–Ω –∂–∞—Ä–∏—è–ª–∞–π –∞–ª–∞—Ç—ã–Ω.",
                card2Title: "–®–∏—Ä–µ–∫ —Å–∞–ª—ã“õ",
                card2Text: "–®—ñ—Ä–∫–µ—É–¥—ñ“£ —ç–∫–æ–Ω–æ–º–∏–∫–∞–ª—ã“õ “õ—É–∞—Ç—ã. –û—Ä–∞—Å–∞–Ω –∑–æ—Ä –±–∞–π–ª—ã“õ –∑”ô—É–ª—ñ–º —Å–æ–±–æ—Ä–ª–∞—Ä —Å–∞–ª—É“ì–∞ –º“Ø–º–∫—ñ–Ω–¥—ñ–∫ –±–µ—Ä–¥—ñ.",
                card3Title: "–ú–æ–Ω–∞—Å—Ç—ã—Ä–ª–∞—Ä",
                card3Text: "–°–∞—É–∞—Ç—Ç—ã–ª—ã“õ –æ—Ä—Ç–∞–ª—ã“õ—Ç–∞—Ä—ã. –ú–æ–Ω–∞—Ö—Ç–∞—Ä–¥—ã“£ 'Ora et labora' (–î“±“ì–∞ “õ—ã–ª –∂”ô–Ω–µ –µ“£–±–µ–∫—Ç–µ–Ω) “±—Ä–∞–Ω—ã –æ–ª–∞—Ä–¥—ã“£ ”©–º—ñ—Ä —Å–∞–ª—Ç—ã –±–æ–ª–¥—ã.",
                footerQuote: "¬´–®—ñ—Ä–∫–µ—É ‚Äî –ø–∞—Ç—à–∞–ª–∞—Ä–¥—ã“£ —Å–µ–º—Å–µ—Ä—ñ –º–µ–Ω —à–∞—Ä—É–∞–ª–∞—Ä–¥—ã“£ —Å–æ“õ–∞—Å—ã–Ω –∫”©–∫—Ç–µ–≥—ñ –∏–≥—ñ–ª—ñ–∫–∫–µ –±–∞“ì—ã—Ç—Ç–∞–π—Ç—ã–Ω ”ô–ª–µ–º–Ω—ñ“£ –∂–∞–Ω—ã¬ª.",
                nodes: [
                    { id: 1, tag: "–®—ã“£", title: "–†–∏–º –ü–∞–ø–∞—Å—ã", desc: "–†–∏–º–¥–µ–≥—ñ “õ–∞—Å–∏–µ—Ç—Ç—ñ —Ç–∞“õ. –ü–∞–ø–∞ ‚Äî —à—ñ—Ä–∫–µ—É –±–∞—Å—à—ã—Å—ã, –ú”ô—Å—ñ—Ö—Ç—ñ“£ –∂–µ—Ä–¥–µ–≥—ñ ”©–∫—ñ–ª—ñ.", fact: "–ü–∞–ø–∞ –ì—Ä–∏–≥–æ—Ä–∏–π VII –¥—ñ–Ω–±–∞—Å—ã–ª–∞—Ä “Ø—à—ñ–Ω “Ø–π–ª–µ–Ω–±–µ—É (—Ü–µ–ª–∏–±–∞—Ç) –µ—Ä–µ–∂–µ—Å—ñ–Ω –µ–Ω–≥—ñ–∑–¥—ñ." },
                    { id: 2, tag: "–ë—ñ–ª—ñ–º", title: "–°–∫—Ä–∏–ø—Ç–æ—Ä–∏–π", desc: "–ú–æ–Ω–∞—Å—Ç—ã—Ä—å –∂–∞–Ω—ã–Ω–¥–∞“ì—ã —à–µ–±–µ—Ä—Ö–∞–Ω–∞. –ú“±–Ω–¥–∞ –º–æ–Ω–∞—Ö—Ç–∞—Ä –∫—ñ—Ç–∞–ø—Ç–∞—Ä–¥—ã “õ–æ–ª–º–µ–Ω –∫”©—à—ñ—Ä—ñ–ø –∂–∞–∑“ì–∞–Ω.", fact: "–ë—ñ—Ä “Ø–ª–∫–µ–Ω –Ü–Ω–∂—ñ–ª–¥—ñ –∂–∞–∑—É “Ø—à—ñ–Ω –±—ñ—Ä —Ç–∞–±—ã–Ω –±“±–∑–∞—É–¥—ã“£ —Ç–µ—Ä—ñ—Å—ñ “õ–∞–∂–µ—Ç –±–æ–ª–¥—ã." },
                    { id: 3, tag: "–ö“Ø–Ω”ô", title: "–ò–Ω–¥—É–ª—å–≥–µ–Ω—Ü–∏—è", desc: "–ö“Ø–Ω”ô–Ω—ñ –∫–µ—à—ñ—Ä—É —Ç—É—Ä–∞–ª—ã –≥—Ä–∞–º–æ—Ç–∞–ª–∞—Ä. –û–ª–∞—Ä–¥—ã —à—ñ—Ä–∫–µ—É –∞“õ—à–∞“ì–∞ —Å–∞—Ç–∞ –±–∞—Å—Ç–∞–¥—ã.", fact: "–ë–∞—Å—Ç–∞–ø“õ—ã–¥–∞ –∏–Ω–¥—É–ª—å–≥–µ–Ω—Ü–∏—è–ª–∞—Ä –∂–µ–∫–µ –µ—Ä–ª—ñ–∫—Ç–µ—Ä “Ø—à—ñ–Ω –±–µ—Ä—ñ–ª–µ—Ç—ñ–Ω." },
                    { id: 4, tag: "“ö–æ—Ä“ì–∞–Ω—ã—Å", title: "–ò–Ω–∫–≤–∏–∑–∏—Ü–∏—è", desc: "–ï—Ä–µ—Ç–∏–∫—Ç–µ—Ä–º–µ–Ω –∫“Ø—Ä–µ—Å—É–≥–µ –∞—Ä–Ω–∞–ª“ì–∞–Ω –µ—Ä–µ–∫—à–µ —à—ñ—Ä–∫–µ—É —Å–æ—Ç—ã.", fact: "'–ò–Ω–∫–≤–∏–∑–∏—Ü–∏—è' —Å”©–∑—ñ –ª–∞—Ç—ã–Ω —Ç—ñ–ª—ñ–Ω–µ–Ω –∞—É–¥–∞—Ä“ì–∞–Ω–¥–∞ '—Ç–µ—Ä–≥–µ—É' –¥–µ–≥–µ–Ω–¥—ñ –±—ñ–ª–¥—ñ—Ä–µ–¥—ñ." },
                    { id: 5, tag: "“ö–æ“ì–∞–º", title: "–®—ñ—Ä–∫–µ—É –ø—Ä–∏—Ö–æ–¥—ã", desc: "”ò—Ä –∞—É—ã–ª –º–µ–Ω “õ–∞–ª–∞–Ω—ã“£ ”©–º—ñ—Ä –æ—Ä—Ç–∞–ª—ã“ì—ã. –®—ñ—Ä–∫–µ—É –∫“Ø–Ω—Ç—ñ–∑–±–µ—Å—ñ –∞–¥–∞–º–¥–∞—Ä–¥—ã“£ –∂“±–º—ã—Å –∂”ô–Ω–µ –¥–µ–º–∞–ª—ã—Å –∫“Ø–Ω–¥–µ—Ä—ñ–Ω –∞–Ω—ã“õ—Ç–∞–¥—ã.", fact: "–û—Ä—Ç–∞ “ì–∞—Å—ã—Ä–ª–∞—Ä–¥–∞ —É–∞“õ—ã—Ç –º–∏–Ω—É—Ç–ø–µ–Ω –µ–º–µ—Å, —à—ñ—Ä–∫–µ—É “õ—ã–∑–º–µ—Ç—ñ–º–µ–Ω –µ—Å–µ–ø—Ç–µ–ª–¥—ñ." }
                ]
            },
            en: {
                title: "The Church and Clergy",
                subtitle: "The Pillar of the Medieval World",
                visualTitle: "Hierarchy and Power",
                hint: "Click symbols to study the role of the Church",
                placeholderTitle: "Sacred Authority",
                placeholderText: "In the Middle Ages, the Church was a state within a state. Discover how it preserved knowledge and governed the minds of millions.",
                labelSpiritual: "Spiritual Truth:",
                hint1: "Papal Throne", hint2: "Monastic Wisdom",
                card1Title: "The Pope",
                card1Text: "The supreme authority of Europe. His word could stop kings or launch Crusades across continents.",
                card2Title: "The Tithe",
                card2Text: "The Church's economic engine. Immense wealth allowed for the construction of great cathedrals.",
                card3Title: "Monasteries",
                card3Text: "Islands of literacy. The monastic motto 'Ora et labora' (Pray and work) defined their disciplined lives.",
                footerQuote: "¬´The Church is the soul of the world, guiding the swords of kings and the plows of farmers toward heavenly grace.¬ª",
                nodes: [
                    { id: 1, tag: "The Top", title: "The Pope", desc: "Based in Rome, the Pope was the Vicar of Christ. He held the power of excommunication, making him more powerful than emperors.", fact: "Pope Gregory VII enforced clerical celibacy to ensure priests remained loyal to the Church alone." },
                    { id: 2, tag: "Knowledge", title: "Scriptorium", desc: "A room in a monastery where monks meticulously copied manuscripts by hand on vellum. Books were rarer than gold.", fact: "A single large Bible could require the hides of over 200 sheep or calves." },
                    { id: 3, tag: "Sin", title: "Indulgences", desc: "Certificates sold by the Church to grant the remission of temporal punishment for sins. A major source of revenue.", fact: "The aggressive sale of indulgences eventually became a primary spark for the Reformation." },
                    { id: 4, tag: "Protection", title: "The Inquisition", desc: "A powerful office established to root out heresy. It aimed to 'save' souls through investigation and, sometimes, execution.", fact: "The term 'Inquisition' comes from the Latin word for 'inquiry' or 'investigation'." },
                    { id: 5, tag: "Society", title: "Parish Church", desc: "The focal point of communal life. From baptism to burial, the Church marked every major milestone of a human life.", fact: "In medieval times, hours were often measured by the ringing of the church bells for prayer." }
                ]
            }
        };

        let currentLang = 'ru';
        const canvas = document.getElementById('churchCanvas');
        const ctx = canvas.getContext('2d');
        let canvasNodes = [];

        function setLang(lang) {
            currentLang = lang;
            document.querySelectorAll('.btn-lang').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`lang-${lang}`).classList.add('active');

            const t = translations[lang];
            document.getElementById('main-title').innerText = t.title;
            document.getElementById('sub-title').innerText = t.subtitle;
            document.getElementById('visual-title').innerText = t.visualTitle;
            document.getElementById('hint').innerText = t.hint;
            document.getElementById('placeholder-title').innerText = t.placeholderTitle;
            document.getElementById('placeholder-text').innerText = t.placeholderText;
            document.getElementById('label-spiritual').innerText = t.labelSpiritual;
            document.getElementById('hint-1').innerText = t.hint1;
            document.getElementById('hint-2').innerText = t.hint2;
            document.getElementById('card1-title').innerText = t.card1Title;
            document.getElementById('card1-text').innerText = t.card1Text;
            document.getElementById('card2-title').innerText = t.card2Title;
            document.getElementById('card2-text').innerText = t.card2Text;
            document.getElementById('card3-title').innerText = t.card3Title;
            document.getElementById('card3-text').innerText = t.card3Text;
            document.getElementById('footer-quote').innerText = t.footerQuote;

            if (!document.getElementById('info-data').classList.contains('hidden')) {
                const activeId = parseInt(document.getElementById('info-data').dataset.activeId);
                showNodeInfo(activeId);
            }
            drawCanvas();
        }

        function resizeCanvas() {
            canvas.width = canvas.parentElement.clientWidth;
            canvas.height = 450;
            drawCanvas();
        }

        function drawCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            const cx = canvas.width / 2;
            const cy = canvas.height / 2;

            // Draw Stylized Gothic Window (Background)
            ctx.strokeStyle = 'rgba(139, 92, 246, 0.1)';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(cx - 100, cy + 150);
            ctx.lineTo(cx - 100, cy - 50);
            ctx.arc(cx, cy - 50, 100, Math.PI, 0);
            ctx.lineTo(cx + 100, cy + 150);
            ctx.stroke();

            const nodesData = [
                { id: 1, x: cx, y: cy - 100, icon: "üëë" },    // Pope
                { id: 2, x: cx - 120, y: cy + 20, icon: "üñãÔ∏è" }, // Scriptorium
                { id: 3, x: cx + 120, y: cy + 20, icon: "üìú" }, // Indulgences
                { id: 4, x: cx - 60, y: cy + 130, icon: "‚öñÔ∏è" }, // Inquisition
                { id: 5, x: cx + 60, y: cy + 130, icon: "‚õ™" }  // Parish
            ];

            canvasNodes = [];
            const nodes = translations[currentLang].nodes;

            nodesData.forEach((pos, i) => {
                const nodeInfo = nodes[i];
                const grad = ctx.createRadialGradient(pos.x, pos.y, 5, pos.x, pos.y, 45);
                grad.addColorStop(0, 'rgba(139, 92, 246, 0.3)');
                grad.addColorStop(1, 'transparent');
                ctx.fillStyle = grad;
                ctx.beginPath();
                ctx.arc(pos.x, pos.y, 45, 0, Math.PI * 2);
                ctx.fill();

                ctx.fillStyle = (i === 0) ? '#4c1d95' : '#8b5cf6';
                ctx.beginPath();
                ctx.arc(pos.x, pos.y, 18, 0, Math.PI * 2);
                ctx.fill();
                ctx.strokeStyle = 'white';
                ctx.lineWidth = 2;
                ctx.stroke();

                ctx.fillStyle = 'white';
                ctx.font = '14px Inter';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(pos.icon, pos.x, pos.y);

                ctx.fillStyle = '#a5b4fc';
                ctx.font = 'bold 9px Montserrat';
                ctx.fillText(nodeInfo.tag.toUpperCase(), pos.x, pos.y + 40);

                canvasNodes.push({ x: pos.x, y: pos.y, r: 40, id: nodeInfo.id });
            });
        }

        function showNodeInfo(id) {
            const node = translations[currentLang].nodes.find(n => n.id === id);
            document.getElementById('info-placeholder').classList.add('hidden');
            const dataPanel = document.getElementById('info-data');
            dataPanel.classList.remove('hidden');
            dataPanel.dataset.activeId = id;

            document.getElementById('info-tag').innerText = node.tag;
            document.getElementById('info-title').innerText = node.title;
            document.getElementById('info-desc').innerText = node.desc;
            document.getElementById('info-fact').innerText = node.fact;
        }

        canvas.addEventListener('click', (e) => {
            const rect = canvas.getBoundingClientRect();
            const mouseX = e.clientX - rect.left;
            const mouseY = e.clientY - rect.top;

            canvasNodes.forEach(node => {
                const dist = Math.sqrt((mouseX - node.x) ** 2 + (mouseY - node.y) ** 2);
                if (dist < node.r) {
                    showNodeInfo(node.id);
                }
            });
        });

        window.onload = () => { resizeCanvas(); setLang('ru'); };
        window.onresize = resizeCanvas;
    </script>

<script type="text/javascript" src="qrc:///qtwebchannel/qwebchannel.js"></script>
<script>
    function goBack() {
        console.log('goBack() –≤—ã–∑–≤–∞–Ω–∞');
        if (typeof bridge !== 'undefined' && bridge) {
            console.log('Bridge –Ω–∞–π–¥–µ–Ω, –≤—ã–∑—ã–≤–∞—é onBackClicked()');
            bridge.onBackClicked();
        } else {
            console.log('Bridge –Ω–µ –Ω–∞–π–¥–µ–Ω!');
        }
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è QWebChannel
    document.addEventListener('DOMContentLoaded', function() {
        console.log('–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è QWebChannel...');

        if (typeof QWebChannel !== 'undefined' && typeof qt !== 'undefined') {
            try {
                new QWebChannel(qt.webChannelTransport, function(channel) {
                    window.bridge = channel.objects.bridge;
                    console.log('‚úÖ Bridge –ø–æ–¥–∫–ª—é—á–µ–Ω!');
                });
            } catch(e) {
                console.error('‚ùå QWebChannel –æ—à–∏–±–∫–∞:', e);
            }
        } else {
            console.warn('‚ö†Ô∏è QWebChannel –∏–ª–∏ qt –Ω–µ –Ω–∞–π–¥–µ–Ω');
        }
    });
</script>

</body>
</html>