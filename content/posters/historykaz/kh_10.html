<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–µ –∫–æ—á–µ–≤–æ–≥–æ —Å–∫–æ—Ç–æ–≤–æ–¥—Å—Ç–≤–∞</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;900&family=Inter:wght@300;400;600&display=swap&subset=cyrillic,cyrillic-ext" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
        h1, h2, h3 { font-family: 'Montserrat', sans-serif; }

        .sky-gradient {
            background: linear-gradient(180deg, #e0f2fe 0%, #f8fafc 100%);
        }

        .steppe-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 3rem;
            border: 1px solid #e2e8f0;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .steppe-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 30px 60px -15px rgba(14, 165, 233, 0.15);
            border-color: #7dd3fc;
        }

        .lang-active {
            background-color: #0ea5e9;
            color: white;
            box-shadow: 0 10px 15px -3px rgba(14, 165, 233, 0.3);
        }

        .yurt-shadow {
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.05));
        }

        canvas {
            filter: drop-shadow(0 20px 30px rgba(14, 165, 233, 0.1));
        }
    </style>
    <script src="../../libs/chart.umd.min.js"></script>
</head>
<body class="sky-gradient text-slate-900 min-h-screen">

<!-- Header -->
    <header class="sticky top-0 z-50 bg-white/60 backdrop-blur-xl border-b border-sky-100 px-6 py-4">
        <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4">
            <div class="flex items-center space-x-3">
                <span class="text-4xl">üêé</span>
                <h1 id="main-title" class="text-xl md:text-2xl font-black uppercase tracking-widest text-sky-900">–ö–æ—á–µ–≤–Ω–∏–∫–∏ –í–µ–ª–∏–∫–æ–π –°—Ç–µ–ø–∏</h1>
            </div>
            <div class="flex bg-sky-50 p-1 rounded-2xl border border-sky-100">
                <button onclick="setLang('ru')" id="btn-ru" class="px-6 py-2 rounded-xl text-sm font-bold transition-all">RU</button>
                <button onclick="setLang('kz')" id="btn-kz" class="px-6 py-2 rounded-xl text-sm font-bold transition-all">KZ</button>
                <button onclick="setLang('en')" id="btn-en" class="px-6 py-2 rounded-xl text-sm font-bold transition-all">EN</button>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-6 py-12 space-y-20">
        
        <!-- Section 1: The Seasonal Cycle (Map) -->
        <div class="relative">
            <div class="absolute -top-10 -right-10 w-96 h-96 bg-sky-400/10 rounded-full blur-3xl"></div>
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 items-center">
                <div class="lg:col-span-5 space-y-8">
                    <div id="badge" class="inline-block bg-sky-500 text-white px-5 py-1.5 rounded-full text-xs font-black uppercase tracking-[0.2em]">Seasonal Migration</div>
                    <h2 id="viz-title" class="text-4xl md:text-5xl font-black text-slate-900 leading-tight">–ì–æ–¥–æ–≤–æ–π —Ä–∏—Ç–º –∫–æ—á–µ–≤–∫–∏</h2>
                    <p id="viz-desc" class="text-xl text-slate-600 font-light leading-relaxed">
                        –ö–æ—á–µ–≤–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –Ω–µ —Å–ª—É—á–∞–π–Ω–æ–µ –ø–µ—Ä–µ–¥–≤–∏–∂–µ–Ω–∏–µ, –∞ —á–µ—Ç–∫–æ –≤—ã–≤–µ—Ä–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–º–µ–Ω—ã –ø–∞—Å—Ç–±–∏—â –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–µ–∑–æ–Ω–∞.
                    </p>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="p-4 bg-white rounded-3xl border border-sky-100">
                            <div class="text-sky-500 font-bold">90%</div>
                            <div id="stat1" class="text-xs text-slate-400 uppercase font-black">–°–≤–µ—Ç–æ–≤–æ–≥–æ –≥–æ–¥–∞ –≤ –ø—É—Ç–∏</div>
                        </div>
                        <div class="p-4 bg-white rounded-3xl border border-sky-100">
                            <div class="text-sky-500 font-bold">1000+</div>
                            <div id="stat2" class="text-xs text-slate-400 uppercase font-black">–ö–º –º–∏–≥—Ä–∞—Ü–∏–∏</div>
                        </div>
                    </div>
                </div>
                <div class="lg:col-span-7 h-96 md:h-[500px]">
                    <canvas id="cycleChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Section 2: Why? (Plan - Transformation Blocks) -->
        <div class="space-y-12">
            <h2 id="plan-title" class="text-center text-3xl font-black text-sky-900 uppercase tracking-widest">–ü—Ä–∏—á–∏–Ω—ã –ø–µ—Ä–µ—Ö–æ–¥–∞</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                
                <!-- Reason 1 -->
                <div class="steppe-card p-10 flex flex-col items-center text-center">
                    <div class="text-6xl mb-6">‚òÄÔ∏è</div>
                    <h3 id="r1-t" class="text-xl font-bold mb-4">–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–ª–∏–º–∞—Ç–∞</h3>
                    <p id="r1-d" class="text-slate-500 text-sm leading-relaxed">–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –∏—Å—Å—É—à–µ–Ω–∏–µ —Å—Ç–µ–ø–∏ (–∞—Ä–∏–¥–∏–∑–∞—Ü–∏—è) —Å–¥–µ–ª–∞–ª–æ –∑–µ–º–ª–µ–¥–µ–ª–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º, –≤—ã–Ω—É–∂–¥–∞—è –ª—é–¥–µ–π –∏—Å–∫–∞—Ç—å –Ω–æ–≤—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –ø—Ä–æ–ø–∏—Ç–∞–Ω–∏—è.</p>
                </div>

                <!-- Reason 2 -->
                <div class="steppe-card p-10 flex flex-col items-center text-center border-b-8 border-sky-500">
                    <div class="text-6xl mb-6">üêé</div>
                    <h3 id="r2-t" class="text-xl font-bold mb-4">–û–¥–æ–º–∞—à–Ω–∏–≤–∞–Ω–∏–µ –ª–æ—à–∞–¥–∏</h3>
                    <p id="r2-d" class="text-slate-500 text-sm leading-relaxed">–õ–æ—à–∞–¥—å —Å—Ç–∞–ª–∞ –≥–ª–∞–≤–Ω—ã–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏–ª–æ –ª—é–¥—è–º –ø—Ä–µ–æ–¥–æ–ª–µ–≤–∞—Ç—å –æ–≥—Ä–æ–º–Ω—ã–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è —Å–æ —Å–≤–æ–∏–º–∏ —Å—Ç–∞–¥–∞–º–∏.</p>
                </div>

                <!-- Reason 3 -->
                <div class="steppe-card p-10 flex flex-col items-center text-center">
                    <div class="text-6xl mb-6">üêë</div>
                    <h3 id="r3-t" class="text-xl font-bold mb-4">–†–æ—Å—Ç –ø–æ–≥–æ–ª–æ–≤—å—è</h3>
                    <p id="r3-d" class="text-slate-500 text-sm leading-relaxed">–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–∫–æ—Ç–∞ —Ç—Ä–µ–±–æ–≤–∞–ª–æ –Ω–æ–≤—ã—Ö –ø–∞—Å—Ç–±–∏—â. –¢—Ä–∞–≤–∞ –≤–æ–∫—Ä—É–≥ –ø–æ—Å–µ–ª–µ–Ω–∏–π —Å—ä–µ–¥–∞–ª–∞—Å—å —Å–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä–æ.</p>
                </div>

            </div>
        </div>

        <!-- Section 3: Types of Pastoralism (Wide Feature) -->
        <div class="bg-sky-900 rounded-[4rem] p-10 md:p-20 text-white relative overflow-hidden shadow-2xl">
            <div class="relative z-10">
                <h2 id="types-title" class="text-3xl font-black mb-12 text-center uppercase tracking-widest">–í–∏–¥—ã —Å–∫–æ—Ç–æ–≤–æ–¥—Å—Ç–≤–∞</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-12">
                    <div class="space-y-4">
                        <div class="text-4xl">üèïÔ∏è</div>
                        <h4 id="t1-t" class="text-xl font-bold text-sky-300">–ö–æ—á–µ–≤–æ–µ</h4>
                        <p id="t1-d" class="text-sky-100/70 font-light">–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –ø–µ—Ä–µ–¥–≤–∏–∂–µ–Ω–∏–µ –≤—Å–µ–π —Å–µ–º—å–∏ —Å–æ —Å–∫–æ—Ç–æ–º. –ñ–∏–ª–∏—â–∞ ‚Äî —Ä–∞–∑–±–æ—Ä–Ω—ã–µ —é—Ä—Ç—ã.</p>
                    </div>
                    <div class="space-y-4 border-l border-sky-800 md:pl-12">
                        <div class="text-4xl">üè†</div>
                        <h4 id="t2-t" class="text-xl font-bold text-sky-300">–ü–æ–ª—É–∫–æ—á–µ–≤–æ–µ</h4>
                        <p id="t2-d" class="text-sky-100/70 font-light">–ó–∏–º–æ–≤–∫–∏ –±—ã–ª–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º–∏ (–∫—ã—Å—Ç–∞—É), –∞ –ª–µ—Ç–æ–º —É—Ö–æ–¥–∏–ª–∏ –Ω–∞ –ø–∞—Å—Ç–±–∏—â–∞.</p>
                    </div>
                    <div class="space-y-4 border-l border-sky-800 md:pl-12">
                        <div class="text-4xl">üåæ</div>
                        <h4 id="t3-t" class="text-xl font-bold text-sky-300">–û—Å–µ–¥–ª–æ–µ</h4>
                        <p id="t3-d" class="text-sky-100/70 font-light">–°–∫–æ—Ç –ø–∞—Å—Å—è —Ä—è–¥–æ–º —Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º–∏ –ø–æ—Å–µ–ª–µ–Ω–∏—è–º–∏, —Å–æ—á–µ—Ç–∞–ª–æ—Å—å —Å –∑–µ–º–ª–µ–¥–µ–ª–∏–µ–º.</p>
                    </div>
                </div>
            </div>
            <!-- Decorative circle -->
            <div class="absolute -bottom-24 -right-24 w-96 h-96 bg-white/5 rounded-full"></div>
        </div>

    </main>

    <footer class="mt-20 py-24 bg-white border-t border-sky-100">
        <div class="max-w-4xl mx-auto px-6 text-center">
            <div id="footer-icon" class="text-5xl mb-10">üá∞üáø</div>
            <p id="footer-text" class="text-2xl md:text-3xl font-light italic leading-tight text-sky-900/80">
                ¬´–ö–æ—á–µ–≤–Ω–∏—á–µ—Å—Ç–≤–æ ‚Äî —ç—Ç–æ –≤—ã—Å—à–∞—è —Ñ–æ—Ä–º–∞ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ —á–µ–ª–æ–≤–µ–∫–∞ –∫ —Å—É—Ä–æ–≤—ã–º —É—Å–ª–æ–≤–∏—è–º –í–µ–ª–∏–∫–æ–π –°—Ç–µ–ø–∏.¬ª
            </p>
        </div>
    </footer>

    <script>
        const translations = {
            ru: {
                title: "–ö–æ—á–µ–≤–Ω–∏–∫–∏ –í–µ–ª–∏–∫–æ–π –°—Ç–µ–ø–∏",
                vizTitle: "–ì–æ–¥–æ–≤–æ–π —Ä–∏—Ç–º –∫–æ—á–µ–≤–∫–∏",
                vizDesc: "–ö–æ—á–µ–≤–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –Ω–µ —Å–ª—É—á–∞–π–Ω–æ–µ –ø–µ—Ä–µ–¥–≤–∏–∂–µ–Ω–∏–µ, –∞ —á–µ—Ç–∫–æ –≤—ã–≤–µ—Ä–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–º–µ–Ω—ã –ø–∞—Å—Ç–±–∏—â –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–µ–∑–æ–Ω–∞.",
                badge: "–°–µ–∑–æ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è",
                stat1: "–î–Ω–µ–π –≤ –ø—É—Ç–∏", stat2: "–ö–º –ø–µ—Ä–µ—Ö–æ–¥–æ–≤",
                planTitle: "–ü—Ä–∏—á–∏–Ω—ã –ø–µ—Ä–µ—Ö–æ–¥–∞",
                r1T: "–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–ª–∏–º–∞—Ç–∞", r1D: "–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –∏—Å—Å—É—à–µ–Ω–∏–µ —Å—Ç–µ–ø–∏ (–∞—Ä–∏–¥–∏–∑–∞—Ü–∏—è) —Å–¥–µ–ª–∞–ª–æ –∑–µ–º–ª–µ–¥–µ–ª–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º.",
                r2T: "–û–¥–æ–º–∞—à–Ω–∏–≤–∞–Ω–∏–µ –ª–æ—à–∞–¥–∏", r2D: "–õ–æ—à–∞–¥—å —Å—Ç–∞–ª–∞ –≥–ª–∞–≤–Ω—ã–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º, –ø–æ–∑–≤–æ–ª—è—è –ø—Ä–µ–æ–¥–æ–ª–µ–≤–∞—Ç—å –æ–≥—Ä–æ–º–Ω—ã–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è.",
                r3T: "–†–æ—Å—Ç —Å—Ç–∞–¥", r3D: "–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–∫–æ—Ç–∞ —Ç—Ä–µ–±–æ–≤–∞–ª–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –Ω–æ–≤—ã—Ö –ø–∞—Å—Ç–±–∏—â.",
                typesTitle: "–í–∏–¥—ã —Å–∫–æ—Ç–æ–≤–æ–¥—Å—Ç–≤–∞",
                t1T: "–ö–æ—á–µ–≤–æ–µ", t1D: "–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –ø–µ—Ä–µ–¥–≤–∏–∂–µ–Ω–∏–µ. –Æ—Ä—Ç—ã –∫–∞–∫ –º–æ–±–∏–ª—å–Ω—ã–µ –¥–æ–º–∞.",
                t2T: "–ü–æ–ª—É–∫–æ—á–µ–≤–æ–µ", t2D: "–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –∑–∏–º–æ–≤–∫–∏ –∏ —Å–µ–∑–æ–Ω–Ω—ã–µ –≤—ã–µ–∑–¥—ã –Ω–∞ –∂–∞–π–ª—è—É.",
                t3T: "–û—Å–µ–¥–ª–æ–µ", t3D: "–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏–µ, —Å–∫–æ—Ç –ø–∞—Å–µ—Ç—Å—è –≤–±–ª–∏–∑–∏ –ø–æ—Å–µ–ª–µ–Ω–∏—è.",
                footer: "¬´–ö–æ—á–µ–≤–Ω–∏—á–µ—Å—Ç–≤–æ ‚Äî —ç—Ç–æ –≤—ã—Å—à–∞—è —Ñ–æ—Ä–º–∞ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ —á–µ–ª–æ–≤–µ–∫–∞ –∫ —Å—É—Ä–æ–≤—ã–º —É—Å–ª–æ–≤–∏—è–º –í–µ–ª–∏–∫–æ–π –°—Ç–µ–ø–∏.¬ª",
                chartLabels: ["–ö—ã—Å—Ç–∞—É (–ó–∏–º–∞)", "–ö–æ–∫—Ç–µ—É (–í–µ—Å–Ω–∞)", "–ñ–∞–π–ª–∞—É (–õ–µ—Ç–æ)", "–ö—É–∑–µ—É (–û—Å–µ–Ω—å)"]
            },
            kz: {
                title: "“∞–ª—ã –î–∞–ª–∞ –∫”©—à–ø–µ–ª—ñ–ª–µ—Ä—ñ",
                vizTitle: "–ö”©—à—Ç—ñ“£ –∂—ã–ª–¥—ã“õ —ã—Ä“ì–∞“ì—ã",
                vizDesc: "–ö”©—à–ø–µ–ª—ñ–ª—ñ–∫ ‚Äî –±“±–ª –∫–µ–∑–¥–µ–π—Å–æ“õ “õ–æ–∑“ì–∞–ª—ã—Å –µ–º–µ—Å, –∂—ã–ª –º–µ–∑–≥—ñ–ª—ñ–Ω–µ –±–∞–π–ª–∞–Ω—ã—Å—Ç—ã –∂–∞–π—ã–ª—ã–º–¥–∞—Ä–¥—ã –∞—É—ã—Å—Ç—ã—Ä—É–¥—ã“£ –Ω–∞“õ—Ç—ã —Ü–∏–∫–ª—ñ.",
                badge: "–ú–∞—É—Å—ã–º–¥—ã“õ –º–∏–≥—Ä–∞—Ü–∏—è",
                stat1: "–ñ–æ–ª–¥–∞“ì—ã –∫“Ø–Ω–¥–µ—Ä", stat2: "–ö”©—à “õ–∞—à—ã“õ—Ç—ã“ì—ã",
                planTitle: "–ö”©—à—É —Å–µ–±–µ–ø—Ç–µ—Ä—ñ",
                r1T: "–ö–ª–∏–º–∞—Ç—Ç—ã“£ ”©–∑–≥–µ—Ä—É—ñ", r1D: "–î–∞–ª–∞–Ω—ã“£ –±—ñ—Ä—Ç—ñ–Ω–¥–µ–ø “õ“±—Ä“ì–∞—É—ã (–∞—Ä–∏–¥–∏–∑–∞—Ü–∏—è) –µ–≥—ñ–Ω—à—ñ–ª—ñ–∫–ø–µ–Ω –∞–π–Ω–∞–ª—ã—Å—É–¥—ã “õ–∏—ã–Ω–¥–∞—Ç—Ç—ã.",
                r2T: "–ñ—ã–ª“õ—ã–Ω—ã “õ–æ–ª“ì–∞ “Ø–π—Ä–µ—Ç—É", r2D: "–ñ—ã–ª“õ—ã –Ω–µ–≥—ñ–∑–≥—ñ –∫”©–ª—ñ–∫–∫–µ –∞–π–Ω–∞–ª—ã–ø, –∞–ª—ã—Å “õ–∞—à—ã“õ—Ç—ã“õ—Ç–∞—Ä–¥—ã –±–∞“ì—ã–Ω–¥—ã—Ä—É“ì–∞ –º“Ø–º–∫—ñ–Ω–¥—ñ–∫ –±–µ—Ä–¥—ñ.",
                r3T: "–ú–∞–ª –±–∞—Å—ã–Ω—ã“£ –∞—Ä—Ç—É—ã", r3D: "–ú–∞–ª —Å–∞–Ω—ã–Ω—ã“£ –∫”©–±–µ—é—ñ –∂–∞“£–∞ –∂–∞–π—ã–ª—ã–º–¥–∞—Ä–¥—ã “Ø–Ω–µ–º—ñ —ñ–∑–¥–µ—É–¥—ñ —Ç–∞–ª–∞–ø –µ—Ç—Ç—ñ.",
                typesTitle: "–ú–∞–ª —à–∞—Ä—É–∞—à—ã–ª—ã“ì—ã —Ç“Ø—Ä–ª–µ—Ä—ñ",
                t1T: "–ö”©—à–ø–µ–ª—ñ", t1D: "–¢“±—Ä–∞“õ—Ç—ã “õ–æ–∑“ì–∞–ª—ã—Å. –ö”©—à–ø–µ–ª—ñ “Ø–π —Ä–µ—Ç—ñ–Ω–¥–µ –∫–∏—ñ–∑ “Ø–π–ª–µ—Ä “õ–æ–ª–¥–∞–Ω—ã–ª–¥—ã.",
                t2T: "–ñ–∞—Ä—Ç—ã–ª–∞–π –∫”©—à–ø–µ–ª—ñ", t2D: "–¢“±—Ä–∞“õ—Ç—ã “õ—ã—Å—Ç–∞—É–ª–∞—Ä—ã –±–∞—Ä, –∂–∞–∑–¥–∞ –∂–∞–π–ª–∞—É“ì–∞ —à—ã“ì–∞—Ç—ã–Ω –∂“Ø–π–µ.",
                t3T: "–û—Ç—ã—Ä—ã“õ—à—ã", t3D: "–¢“±—Ä–∞“õ—Ç—ã –º–µ–∫–µ–Ω–∂–∞–π, –º–∞–ª “õ–æ–Ω—ã—Å –º–∞“£—ã–Ω–¥–∞ –∂–∞–π—ã–ª–∞–¥—ã.",
                footer: "¬´–ö”©—à–ø–µ–ª—ñ–ª—ñ–∫ ‚Äî –±“±–ª –∞–¥–∞–º–Ω—ã“£ “∞–ª—ã –î–∞–ª–∞–Ω—ã“£ “õ–∞—Ç–∞–ª –∂–∞“ì–¥–∞–π–ª–∞—Ä—ã–Ω–∞ –±–µ–π—ñ–º–¥–µ–ª—É—ñ–Ω—ñ“£ –µ“£ –∂–æ“ì–∞—Ä“ì—ã —Ñ–æ—Ä–º–∞—Å—ã.¬ª",
                chartLabels: ["“ö—ã—Å—Ç–∞—É (“ö—ã—Å)", "–ö”©–∫—Ç–µ—É (–ö”©–∫—Ç–µ–º)", "–ñ–∞–π–ª–∞—É (–ñ–∞–∑)", "–ö“Ø–∑–µ—É (–ö“Ø–∑)"]
            },
            en: {
                title: "Nomads of the Great Steppe",
                vizTitle: "The Yearly Migration Rhythm",
                vizDesc: "Nomadism is not random movement, but a precisely calculated cycle of pasture changes depending on the season.",
                badge: "Seasonal Migration",
                stat1: "Days on move", stat2: "Km of transitions",
                planTitle: "Causes of Transition",
                r1T: "Climate Change", r1D: "The gradual drying of the steppe (aridization) made farming impossible.",
                r2T: "Horse Domestication", r2D: "The horse became the main transport, allowing for covering huge distances.",
                r3T: "Livestock Growth", r3D: "The increase in the number of animals required a constant search for new pastures.",
                typesTitle: "Types of Pastoralism",
                t1T: "Nomadic", t1D: "Constant movement. Yurts as mobile homes.",
                t2T: "Semi-nomadic", t2D: "Permanent winter camps and seasonal trips to summer pastures.",
                t3T: "Sedentary", t3D: "Permanent living, livestock grazes near the settlement.",
                footer: "¬´Nomadism is the highest form of human adaptation to the harsh conditions of the Great Steppe.¬ª",
                chartLabels: ["Kystau (Winter)", "Kokteu (Spring)", "Zhailau (Summer)", "Kyzeu (Autumn)"]
            }
        };

        let currentChart = null;

        function initChart(lang) {
            const ctx = document.getElementById('cycleChart').getContext('2d');
            if (currentChart) currentChart.destroy();

            currentChart = new Chart(ctx, {
                type: 'polarArea',
                data: {
                    labels: translations[lang].chartLabels,
                    datasets: [{
                        data: [25, 25, 25, 25], // –†–∞–≤–Ω—ã–µ —á–∞—Å—Ç–∏ –≥–æ–¥–∞
                        backgroundColor: [
                            'rgba(14, 165, 233, 0.6)', // Winter - Blue
                            'rgba(34, 197, 94, 0.6)',  // Spring - Green
                            'rgba(234, 179, 8, 0.6)',  // Summer - Gold
                            'rgba(249, 115, 22, 0.6)'  // Autumn - Orange
                        ],
                        borderWidth: 5,
                        borderColor: '#ffffff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            ticks: { display: false },
                            grid: { color: 'rgba(0,0,0,0.05)' },
                            pointLabels: {
                                color: '#0f172a',
                                font: { family: 'Montserrat', size: 14, weight: 'bold' }
                            }
                        }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        }

        function setLang(lang) {
            const t = translations[lang];
            document.getElementById('main-title').innerText = t.title;
            document.getElementById('viz-title').innerText = t.vizTitle;
            document.getElementById('viz-desc').innerText = t.vizDesc;
            document.getElementById('badge').innerText = t.badge;
            document.getElementById('stat1').innerText = t.stat1;
            document.getElementById('stat2').innerText = t.stat2;
            document.getElementById('plan-title').innerText = t.planTitle;
            document.getElementById('r1-t').innerText = t.r1T; document.getElementById('r1-d').innerText = t.r1D;
            document.getElementById('r2-t').innerText = t.r2T; document.getElementById('r2-d').innerText = t.r2D;
            document.getElementById('r3-t').innerText = t.r3T; document.getElementById('r3-d').innerText = t.r3D;
            document.getElementById('types-title').innerText = t.typesTitle;
            document.getElementById('t1-t').innerText = t.t1T; document.getElementById('t1-d').innerText = t.t1D;
            document.getElementById('t2-t').innerText = t.t2T; document.getElementById('t2-d').innerText = t.t2D;
            document.getElementById('t3-t').innerText = t.t3T; document.getElementById('t3-d').innerText = t.t3D;
            document.getElementById('footer-text').innerText = t.footer;

            ['ru', 'kz', 'en'].forEach(l => {
                const btn = document.getElementById(`btn-${l}`);
                btn.className = l === lang 
                    ? "px-6 py-2 rounded-xl text-sm font-black lang-active" 
                    : "px-6 py-2 rounded-xl text-sm font-bold text-sky-600 hover:bg-sky-100 transition-all";
            });

            initChart(lang);
        }

        window.onload = () => setLang('ru');
    </script>

<script type="text/javascript" src="qrc:///qtwebchannel/qwebchannel.js"></script>







<style data-oi-map-overlay>
.oi-map-btn{
  position:fixed; right:16px; bottom:16px; z-index:9999;
  padding:10px 14px; border-radius:999px; border:1px solid rgba(0,0,0,.15);
  background:#fff; cursor:pointer; font:600 14px/1.1 system-ui,-apple-system,Segoe UI,Roboto,Arial;
  box-shadow:0 8px 20px rgba(0,0,0,.12);
}
.oi-map-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.72); z-index:10000;
  display:none; align-items:center; justify-content:center; padding:18px;
}
.oi-map-backdrop[aria-hidden="false"]{ display:flex; }
.oi-map-modal{
  width:min(1100px, 100%); height:min(85vh, 900px);
  background:#111; border-radius:14px; overflow:hidden; position:relative;
  box-shadow:0 20px 60px rgba(0,0,0,.35);
}
.oi-map-close{
  position:absolute; top:10px; right:10px; z-index:3;
  width:40px; height:40px; border-radius:999px; border:1px solid rgba(255,255,255,.25);
  background:rgba(0,0,0,.35); color:#fff; cursor:pointer; font-size:22px;
}
.oi-map-viewport{
  width:100%; height:100%; overflow:auto; -webkit-overflow-scrolling:touch;
  touch-action: pan-x pan-y;
  background:#000;
  padding-top:56px; /* –º–µ—Å—Ç–æ –ø–æ–¥ —Ç—É–ª–±–∞—Ä */
}
.oi-map-img{
  display:block;
  transform-origin: 0 0;
  user-select:none; -webkit-user-drag:none;
}
.oi-map-toolbar{
  position:absolute; left:12px; top:12px; right:12px; z-index:2;
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  pointer-events:none;
}
.oi-map-tabs{ display:flex; gap:8px; pointer-events:auto; }
.oi-map-tab{
  width:36px; height:34px; border-radius:10px;
  border:1px solid rgba(255,255,255,.22);
  background:rgba(0,0,0,.35); color:#fff;
  cursor:pointer; font:600 14px system-ui,-apple-system,Segoe UI,Roboto,Arial;
}
.oi-map-tab.is-active{
  background:rgba(255,255,255,.12);
  border-color: rgba(255,255,255,.45);
}
.oi-map-hint{
  pointer-events:none;
  color:#fff; opacity:.85; font:12px/1.2 system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:rgba(0,0,0,.35); border:1px solid rgba(255,255,255,.18);
  padding:8px 10px; border-radius:10px;
}
</style>

<button class="oi-map-btn" type="button" data-oi-map-btn>üó∫Ô∏è –ö–∞—Ä—Ç–∞</button>

<div class="oi-map-backdrop" aria-hidden="true" data-oi-map-backdrop>
  <div class="oi-map-modal" role="dialog" aria-modal="true" aria-label="–ö–∞—Ä—Ç–∞">
    <button class="oi-map-close" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å" data-oi-map-close>√ó</button>

    <div class="oi-map-toolbar">
      <div class="oi-map-tabs">
        <button type="button" class="oi-map-tab is-active" data-oi-map-tab="1">1</button>
        <button type="button" class="oi-map-tab" data-oi-map-tab="2">2</button>
        <button type="button" class="oi-map-tab" data-oi-map-tab="3">3</button>
        <button type="button" class="oi-map-tab" data-oi-map-tab="4">4</button>
      </div>
      <div class="oi-map-hint">–ö–æ–ª—ë—Å–∏–∫–æ/—Ç—Ä–µ–∫–ø–∞–¥ ‚Äî –∑—É–º ‚Ä¢ Esc ‚Äî –∑–∞–∫—Ä—ã—Ç—å</div>
    </div>

    <div class="oi-map-viewport" data-oi-map-viewport>
      <img class="oi-map-img" data-oi-map-img data-map="1" src="../../assets/maps/karta_1.png" alt="–ö–∞—Ä—Ç–∞ 1" style="display:block;">
<img class="oi-map-img" data-oi-map-img data-map="2" src="../../assets/maps/karta_2.png" alt="–ö–∞—Ä—Ç–∞ 2" style="display:none;">
<img class="oi-map-img" data-oi-map-img data-map="3" src="../../assets/maps/karta_3.png" alt="–ö–∞—Ä—Ç–∞ 3" style="display:none;">
<img class="oi-map-img" data-oi-map-img data-map="4" src="../../assets/maps/karta_4.png" alt="–ö–∞—Ä—Ç–∞ 4" style="display:none;">
    </div>
  </div>
</div>


<script data-oi-map-overlay>
(function(){
  const btn = document.querySelector('[data-oi-map-btn]');
  const backdrop = document.querySelector('[data-oi-map-backdrop]');
  const closeBtn = document.querySelector('[data-oi-map-close]');
  const viewport = document.querySelector('[data-oi-map-viewport]');
  const tabs = Array.from(document.querySelectorAll('[data-oi-map-tab]'));
  const imgs = Array.from(document.querySelectorAll('[data-oi-map-img][data-map]'));
  if(!btn || !backdrop || !closeBtn || !viewport || imgs.length === 0) return;

  let scale = 1;

  function applyScale(){
    imgs.forEach(img => { img.style.transform = `scale(${scale})`; });
  }
  function openMap(){
    backdrop.setAttribute('aria-hidden','false');
    document.body.style.overflow = 'hidden';
  }
  function closeMap(){
    backdrop.setAttribute('aria-hidden','true');
    document.body.style.overflow = '';
  }
  function showMap(n){
    imgs.forEach(img => {
      img.style.display = (img.getAttribute('data-map') === String(n)) ? 'block' : 'none';
    });
    tabs.forEach(t => t.classList.toggle('is-active', t.getAttribute('data-oi-map-tab') === String(n)));
    viewport.scrollTop = 0;
    viewport.scrollLeft = 0;
  }

  btn.addEventListener('click', openMap);
  closeBtn.addEventListener('click', closeMap);
  backdrop.addEventListener('click', (e)=>{ if(e.target === backdrop) closeMap(); });
  window.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeMap(); });

  tabs.forEach(t => t.addEventListener('click', () => showMap(t.getAttribute('data-oi-map-tab'))));

  viewport.addEventListener('wheel', (e)=>{
    if(backdrop.getAttribute('aria-hidden') !== 'false') return;
    e.preventDefault();
    const delta = -Math.sign(e.deltaY) * 0.1;
    scale = Math.min(4, Math.max(0.6, scale + delta));
    applyScale();
  }, {passive:false});

  applyScale();
  showMap(1);
})();
</script>
</body>
</html>