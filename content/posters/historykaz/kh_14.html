<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ë–æ—Ä—å–±–∞ —Å–∞–∫–æ–≤ –∑–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;900&family=Inter:wght@300;400;600&display=swap&subset=cyrillic,cyrillic-ext" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #1a1a1a; color: #e5e7eb; }
        h1, h2, h3 { font-family: 'Montserrat', sans-serif; }

        .war-gradient {
            background: linear-gradient(135deg, #450a0a 0%, #1a1a1a 100%);
        }

        .battle-card {
            background: rgba(38, 38, 38, 0.8);
            border-left: 4px solid #dc2626;
            transition: all 0.3s ease;
        }

        .battle-card:hover {
            background: rgba(55, 65, 81, 0.8);
            transform: scale(1.02);
            border-left-width: 12px;
        }

        .lang-active {
            background-color: #dc2626;
            color: white;
            box-shadow: 0 0 20px rgba(220, 38, 38, 0.4);
        }

        .hero-section {
            background-image: radial-gradient(circle at center, rgba(220, 38, 38, 0.1) 0%, transparent 70%);
        }

        canvas {
            filter: drop-shadow(0 0 15px rgba(220, 38, 38, 0.2));
        }
    </style>
    <script src="../../libs/chart.umd.min.js"></script>
</head>
<body class="war-gradient min-h-screen">

<!-- Sticky Header -->
    <header class="sticky top-0 z-50 bg-black/80 backdrop-blur-lg border-b border-red-900/30 px-6 py-4">
        <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4">
            <div class="flex items-center space-x-3">
                <span class="text-3xl">üõ°Ô∏è</span>
                <h1 id="main-title" class="text-xl md:text-2xl font-black uppercase tracking-tighter text-red-500">–©–∏—Ç –í–µ–ª–∏–∫–æ–π –°—Ç–µ–ø–∏</h1>
            </div>
            <div class="flex bg-zinc-900 p-1 rounded-xl border border-zinc-800">
                <button onclick="setLang('ru')" id="btn-ru" class="px-6 py-2 rounded-lg text-sm font-bold transition-all">RU</button>
                <button onclick="setLang('kz')" id="btn-kz" class="px-6 py-2 rounded-lg text-sm font-bold transition-all">KZ</button>
                <button onclick="setLang('en')" id="btn-en" class="px-6 py-2 rounded-lg text-sm font-bold transition-all">EN</button>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-6 py-12 space-y-16">
        
        <!-- Section 1: expansion Visualization (Map) -->
        <div class="hero-section rounded-[3rem] p-8 md:p-12 border border-red-900/20 shadow-2xl">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 items-center">
                <div class="lg:col-span-5 space-y-6">
                    <div id="badge" class="inline-block bg-red-600/20 text-red-500 border border-red-500/50 px-4 py-1 rounded-full text-xs font-black uppercase tracking-widest">Resistance Chronicle</div>
                    <h2 id="viz-title" class="text-3xl md:text-5xl font-black leading-tight">–°–∏–ª–∞ –æ—Ç–ø–æ—Ä–∞</h2>
                    <p id="viz-desc" class="text-lg text-zinc-400 font-light leading-relaxed">
                        –°–∞–∫–∏ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ç–∏–≤–æ—Å—Ç–æ—è–ª–∏ –∫—Ä—É–ø–Ω–µ–π—à–∏–º –∏–º–ø–µ—Ä–∏—è–º –º–∏—Ä–∞. –ò—Ö —Ç–∞–∫—Ç–∏–∫–∞ ¬´–∏–∑–Ω—É—Ä–µ–Ω–∏—è –≤—Ä–∞–≥–∞¬ª –∏ –º–æ–ª–Ω–∏–µ–Ω–æ—Å–Ω—ã—Ö –∞—Ç–∞–∫ –¥–µ–ª–∞–ª–∞ —Å—Ç–µ–ø—å –Ω–µ–ø—Ä–∏—Å—Ç—É–ø–Ω–æ–π –∫—Ä–µ–ø–æ—Å—Ç—å—é.
                    </p>
                    <div class="flex space-x-4">
                        <div class="p-4 bg-zinc-900/50 rounded-2xl border border-red-900/30">
                            <div class="text-red-500 font-black text-xl">530 BC</div>
                            <div id="date1" class="text-[10px] uppercase text-zinc-500 font-bold tracking-widest">–ü–æ–±–µ–¥–∞ –Ω–∞–¥ –ö–∏—Ä–æ–º</div>
                        </div>
                        <div class="p-4 bg-zinc-900/50 rounded-2xl border border-red-900/30">
                            <div class="text-red-500 font-black text-xl">329 BC</div>
                            <div id="date2" class="text-[10px] uppercase text-zinc-500 font-bold tracking-widest">–ë–∏—Ç–≤–∞ –Ω–∞ –Ø–∫—Å–∞—Ä—Ç–µ</div>
                        </div>
                    </div>
                </div>
                <div class="lg:col-span-7 h-80 md:h-[450px]">
                    <canvas id="warChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Section 2: Great Battles (Plan) -->
        <div class="space-y-12">
            <h2 id="plan-title" class="text-2xl font-black text-center text-red-500 uppercase tracking-widest">–ì–µ—Ä–æ–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                
                <!-- Battle 1: Cyrus -->
                <div class="battle-card p-10 rounded-2xl flex flex-col justify-between">
                    <div>
                        <div class="text-5xl mb-6">üëë</div>
                        <h3 id="b1-t" class="text-xl font-bold mb-4 text-white uppercase">–¶–∞—Ä–∏—Ü–∞ –¢–æ–º–∏—Ä–∏—Å</h3>
                        <p id="b1-d" class="text-zinc-400 text-sm leading-relaxed">–ü–æ–±–µ–¥–∞ –Ω–∞–¥ –ø–µ—Ä—Å–∏–¥—Å–∫–∏–º —Ü–∞—Ä–µ–º –ö–∏—Ä–æ–º. –°–∞–∫–∏-–º–∞—Å—Å–∞–≥–µ—Ç—ã –∑–∞–º–∞–Ω–∏–ª–∏ –≤—Ä–∞–≥–∞ –≤–≥–ª—É–±—å —Å—Ç–µ–ø–∏ –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–Ω–∏—á—Ç–æ–∂–∏–ª–∏ –µ–≥–æ –∞—Ä–º–∏—é, –∑–∞—â–∏—Ç–∏–≤ —Å–≤–æ–∏ –∑–µ–º–ª–∏.</p>
                    </div>
                    <div class="mt-8 text-red-500 font-black text-xs uppercase tracking-widest">‚öîÔ∏è 530 BC</div>
                </div>

                <!-- Battle 2: Darius -->
                <div class="battle-card p-10 rounded-2xl flex flex-col justify-between">
                    <div>
                        <div class="text-5xl mb-6">üèúÔ∏è</div>
                        <h3 id="b2-t" class="text-xl font-bold mb-4 text-white uppercase">–ü–æ–¥–≤–∏–≥ –®–∏—Ä–∞–∫–∞</h3>
                        <p id="b2-d" class="text-zinc-400 text-sm leading-relaxed">–ü—Ä–æ—Ç–∏–≤–æ—Å—Ç–æ—è–Ω–∏–µ –î–∞—Ä–∏—é I. –ü—Ä–æ—Å—Ç–æ–π –ø–∞—Å—Ç—É—Ö –®–∏—Ä–∞–∫ –∑–∞–º–∞–Ω–∏–ª –ø–µ—Ä—Å–∏–¥—Å–∫–æ–µ –≤–æ–π—Å–∫–æ –≤ –±–µ–∑–≤–æ–¥–Ω—É—é –ø—É—Å—Ç—ã–Ω—é, –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–≤ —Å–æ–±–æ–π —Ä–∞–¥–∏ —Å–ø–∞—Å–µ–Ω–∏—è —Å–≤–æ–µ–≥–æ –Ω–∞—Ä–æ–¥–∞.</p>
                    </div>
                    <div class="mt-8 text-red-500 font-black text-xs uppercase tracking-widest">‚öîÔ∏è 519 BC</div>
                </div>

                <!-- Battle 3: Alexander -->
                <div class="battle-card p-10 rounded-2xl flex flex-col justify-between">
                    <div>
                        <div class="text-5xl mb-6">‚ö°</div>
                        <h3 id="b3-t" class="text-xl font-bold mb-4 text-white uppercase">–ü—Ä–æ—Ç–∏–≤ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞</h3>
                        <p id="b3-d" class="text-zinc-400 text-sm leading-relaxed">–û–±–æ—Ä–æ–Ω–∞ –ø—Ä–æ—Ç–∏–≤ –ú–∞–∫–µ–¥–æ–Ω—Å–∫–æ–≥–æ. –í –±–∏—Ç–≤–µ –Ω–∞ –°—ã—Ä–¥–∞—Ä—å–µ (–Ø–∫—Å–∞—Ä—Ç) —Å–∞–∫–∏ –∑–∞—Å—Ç–∞–≤–∏–ª–∏ –≤–µ–ª–∏–∫–æ–≥–æ –ø–æ–ª–∫–æ–≤–æ–¥—Ü–∞ –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç –∏–¥–µ–∏ –∑–∞–≤–æ–µ–≤–∞–Ω–∏—è –≥–ª—É–±–∏–Ω –°—Ç–µ–ø–∏.</p>
                    </div>
                    <div class="mt-8 text-red-500 font-black text-xs uppercase tracking-widest">‚öîÔ∏è 329 BC</div>
                </div>

            </div>
        </div>

        <!-- Section 3: Tactics (Wide highlight) -->
        <div class="bg-zinc-900 rounded-[3rem] p-10 md:p-16 border border-zinc-800 shadow-inner relative overflow-hidden">
            <div class="relative z-10 grid grid-cols-1 md:grid-cols-12 gap-10 items-center">
                <div class="md:col-span-4 text-center">
                    <div class="text-8xl mb-4">üèπ</div>
                    <div id="tactics-label" class="text-red-500 font-black text-xs uppercase tracking-[0.4em]">Saka Strategy</div>
                </div>
                <div class="md:col-span-8">
                    <h3 id="tactics-title" class="text-3xl font-black text-white mb-6 uppercase">–¢–∞–∫—Ç–∏–∫–∞ ¬´–í—ã–∂–∂–µ–Ω–Ω–æ–π –∑–µ–º–ª–∏¬ª</h3>
                    <p id="tactics-desc" class="text-xl text-zinc-400 font-light leading-relaxed">
                        –°–∞–∫–∏ –Ω–µ –≤—Å—Ç—É–ø–∞–ª–∏ –≤ —Ä–µ—à–∞—é—â–∏–π –±–æ–π —Å—Ä–∞–∑—É. –û–Ω–∏ –∏–∑–º–∞—Ç—ã–≤–∞–ª–∏ –≤—Ä–∞–≥–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º–∏ –º–µ–ª–∫–∏–º–∏ —Å—Ç—ã—á–∫–∞–º–∏, –∑–∞–º–∞–Ω–∏–≤–∞–ª–∏ –≤–≥–ª—É–±—å —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–π –∏ –ª–∏—à–∞–ª–∏ –ø—Ä–æ–≤–∏–∞–Ω—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É—è –º–æ–±–∏–ª—å–Ω–æ—Å—Ç—å –∫–æ–Ω–Ω–∏—Ü—ã.
                    </p>
                </div>
            </div>
            <div class="absolute -bottom-10 -right-10 text-[15rem] opacity-5 pointer-events-none">üõ°Ô∏è</div>
        </div>

    </main>

    <footer class="py-24 bg-black border-t border-red-900/30 text-center">
        <div class="max-w-4xl mx-auto px-6">
            <p id="footer-text" class="text-2xl md:text-3xl font-light italic leading-tight text-zinc-500">
                ¬´–°–≤–æ–±–æ–¥–∞ —Å–∞–∫–æ–≤ –±—ã–ª–∞ –æ–ø–ª–∞—á–µ–Ω–∞ –∫—Ä–æ–≤—å—é –∏ –≤–µ–ª–∏—á–∞–π—à–µ–π —Ö–∏—Ç—Ä–æ—Å—Ç—å—é, –ø—Ä–µ–≤—Ä–∞—Ç–∏–≤—à–µ–π –°—Ç–µ–ø—å –≤ –º–æ–≥–∏–ª—É –¥–ª—è –∑–∞—Ö–≤–∞—Ç—á–∏–∫–æ–≤.¬ª
            </p>
            <div class="mt-12 h-1 w-24 bg-red-600 mx-auto rounded-full"></div>
        </div>
    </footer>

    <script>
        const translations = {
            ru: {
                title: "–©–∏—Ç –í–µ–ª–∏–∫–æ–π –°—Ç–µ–ø–∏",
                vizTitle: "–°–∏–ª–∞ –æ—Ç–ø–æ—Ä–∞",
                vizDesc: "–°–∞–∫–∏ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ç–∏–≤–æ—Å—Ç–æ—è–ª–∏ –∫—Ä—É–ø–Ω–µ–π—à–∏–º –∏–º–ø–µ—Ä–∏—è–º –º–∏—Ä–∞. –ò—Ö —Ç–∞–∫—Ç–∏–∫–∞ ¬´–∏–∑–Ω—É—Ä–µ–Ω–∏—è –≤—Ä–∞–≥–∞¬ª –∏ –º–æ–ª–Ω–∏–µ–Ω–æ—Å–Ω—ã—Ö –∞—Ç–∞–∫ –¥–µ–ª–∞–ª–∞ —Å—Ç–µ–ø—å –Ω–µ–ø—Ä–∏—Å—Ç—É–ø–Ω–æ–π.",
                badge: "–•—Ä–æ–Ω–∏–∫–∞ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è",
                date1: "–ü–æ–±–µ–¥–∞ –Ω–∞–¥ –ö–∏—Ä–æ–º", date2: "–ë–∏—Ç–≤–∞ –Ω–∞ –Ø–∫—Å–∞—Ä—Ç–µ",
                planTitle: "–ì–µ—Ä–æ–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã",
                b1T: "–¶–∞—Ä–∏—Ü–∞ –¢–æ–º–∏—Ä–∏—Å", b1D: "–ü–æ–±–µ–¥–∞ –Ω–∞–¥ –ø–µ—Ä—Å–∏–¥—Å–∫–∏–º —Ü–∞—Ä–µ–º –ö–∏—Ä–æ–º. –°–∞–∫–∏-–º–∞—Å—Å–∞–≥–µ—Ç—ã –∑–∞–º–∞–Ω–∏–ª–∏ –≤—Ä–∞–≥–∞ –≤–≥–ª—É–±—å —Å—Ç–µ–ø–∏ –∏ —É–Ω–∏—á—Ç–æ–∂–∏–ª–∏ –µ–≥–æ –∞—Ä–º–∏—é.",
                b2T: "–ü–æ–¥–≤–∏–≥ –®–∏—Ä–∞–∫–∞", b2D: "–ü—Ä–æ—Ç–∏–≤–æ—Å—Ç–æ—è–Ω–∏–µ –î–∞—Ä–∏—é I. –ü–∞—Å—Ç—É—Ö –®–∏—Ä–∞–∫ –∑–∞–º–∞–Ω–∏–ª –ø–µ—Ä—Å–∏–¥—Å–∫–æ–µ –≤–æ–π—Å–∫–æ –≤ –±–µ–∑–≤–æ–¥–Ω—É—é –ø—É—Å—Ç—ã–Ω—é, –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–≤ —Å–æ–±–æ–π.",
                b3T: "–ü—Ä–æ—Ç–∏–≤ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞", b3D: "–û–±–æ—Ä–æ–Ω–∞ –ø—Ä–æ—Ç–∏–≤ –ú–∞–∫–µ–¥–æ–Ω—Å–∫–æ–≥–æ. –ë–∏—Ç–≤–∞ –Ω–∞ –Ø–∫—Å–∞—Ä—Ç–µ –∑–∞—Å—Ç–∞–≤–∏–ª–∞ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç –ø–ª–∞–Ω–æ–≤ –ø–æ–∫–æ—Ä–µ–Ω–∏—è –°—Ç–µ–ø–∏.",
                tacticsTitle: "–¢–∞–∫—Ç–∏–∫–∞ –≤—ã–∂–∂–µ–Ω–Ω–æ–π –∑–µ–º–ª–∏", tacticsDesc: "–°–∞–∫–∏ –∏–∑–º–∞—Ç—ã–≤–∞–ª–∏ –≤—Ä–∞–≥–∞ –º–µ–ª–∫–∏–º–∏ —Å—Ç—ã—á–∫–∞–º–∏, –∑–∞–º–∞–Ω–∏–≤–∞–ª–∏ –≤–≥–ª—É–±—å —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–π –∏ –ª–∏—à–∞–ª–∏ —Ä–µ—Å—É—Ä—Å–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—è –º–æ—â—å –∫–æ–Ω–Ω–∏—Ü—ã.",
                tacticsLabel: "–°—Ç—Ä–∞—Ç–µ–≥–∏—è —Å–∞–∫–æ–≤",
                footer: "¬´–°–≤–æ–±–æ–¥–∞ —Å–∞–∫–æ–≤ –±—ã–ª–∞ –æ–ø–ª–∞—á–µ–Ω–∞ –∫—Ä–æ–≤—å—é –∏ –≤–µ–ª–∏—á–∞–π—à–µ–π —Ö–∏—Ç—Ä–æ—Å—Ç—å—é, –ø—Ä–µ–≤—Ä–∞—Ç–∏–≤—à–µ–π –°—Ç–µ–ø—å –≤ –º–æ–≥–∏–ª—É –¥–ª—è –∑–∞—Ö–≤–∞—Ç—á–∏–∫–æ–≤.¬ª",
                chartLabels: ["–ê—Ä–º–∏—è –ö–∏—Ä–∞", "–ê—Ä–º–∏—è –î–∞—Ä–∏—è I", "–§–∞–ª–∞–Ω–≥–∞ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞", "–°–∞–∫—Å–∫–∞—è –∫–æ–Ω–Ω–∏—Ü–∞"],
                chartTitle: "–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è –º–æ—â—å –∏ –º–∞–Ω–µ–≤—Ä–µ–Ω–Ω–æ—Å—Ç—å"
            },
            kz: {
                title: "“∞–ª—ã –î–∞–ª–∞ “ö–∞–ª“õ–∞–Ω—ã",
                vizTitle: "–¢–æ–π—Ç–∞—Ä—ã—Å –±–µ—Ä—É –∫“Ø—à—ñ",
                vizDesc: "–°–∞“õ—Ç–∞—Ä ”ô–ª–µ–º–¥–µ–≥—ñ –µ“£ —ñ—Ä—ñ –∏–º–ø–µ—Ä–∏—è–ª–∞—Ä“ì–∞ —Å”ô—Ç—Ç—ñ “õ–∞—Ä—Å—ã —Ç“±—Ä–¥—ã. –û–ª–∞—Ä–¥—ã“£ ¬´–∂–∞—É–¥—ã “õ–∞–∂—ã—Ç—É¬ª —Ç–∞–∫—Ç–∏–∫–∞—Å—ã –¥–∞–ª–∞–Ω—ã –∞–ª—ã–Ω–±–∞—Å “õ–∞–º–∞–ª“ì–∞ –∞–π–Ω–∞–ª–¥—ã—Ä–¥—ã.",
                badge: "“ö–∞—Ä—Å—ã–ª–∞—Å—É —Ö—Ä–æ–Ω–∏–∫–∞—Å—ã",
                date1: "–ö–∏—Ä–¥—ñ –∂–µ“£—É", date2: "–Ø–∫—Å–∞—Ä—Ç —à–∞–π“õ–∞—Å—ã",
                planTitle: "–ï—Ä–ª—ñ–∫ –±–µ—Ç—Ç–µ—Ä—ñ",
                b1T: "–¢“±–º–∞—Ä —Ö–∞–Ω—à–∞–π—ã–º", b1D: "–ü–∞—Ä—Å—ã –ø–∞—Ç—à–∞—Å—ã –ö–∏—Ä–¥—ñ –∂–µ“£—É—ñ. –°–∞“õ-–º–∞—Å—Å–∞–≥–µ—Ç—Ç–µ—Ä –∂–∞—É–¥—ã –¥–∞–ª–∞–Ω—ã“£ —Ç–µ—Ä–µ“£—ñ–Ω–µ –∞–ª–¥–∞–ø –∫—ñ—Ä–≥—ñ–∑—ñ–ø, ”ô—Å–∫–µ—Ä—ñ–Ω —Ç–∞–ª“õ–∞–Ω–¥–∞–¥—ã.",
                b2T: "–®—ã—Ä–∞“õ—Ç—ã“£ –µ—Ä–ª—ñ–≥—ñ", b2D: "–î–∞—Ä–∏–π I-–≥–µ “õ–∞—Ä—Å—ã–ª—ã“õ. –®—ã—Ä–∞“õ –µ—Å—ñ–º–¥—ñ –±–∞“õ—Ç–∞—à—ã –ø–∞—Ä—Å—ã ”ô—Å–∫–µ—Ä—ñ–Ω —Å—É—Å—ã–∑ —à”©–ª–≥–µ –∞–ª–¥–∞–ø –∞–ø–∞—Ä—ã–ø, —Ö–∞–ª“õ—ã “Ø—à—ñ–Ω –∂–∞–Ω—ã–Ω “õ–∏–¥—ã.",
                b3T: "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä“ì–∞ “õ–∞—Ä—Å—ã", b3D: "–ú–∞–∫–µ–¥–æ–Ω–¥—ã“õ“õ–∞ “õ–∞—Ä—Å—ã “õ–æ—Ä“ì–∞–Ω—ã—Å. –Ø–∫—Å–∞—Ä—Ç —à–∞–π“õ–∞—Å—ã –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–¥—ã –î–∞–ª–∞–Ω—ã –∂–∞—É–ª–∞–ø –∞–ª—É –∂–æ—Å–ø–∞—Ä—ã–Ω–∞–Ω –±–∞—Å —Ç–∞—Ä—Ç—É“ì–∞ –º”ô–∂–±“Ø—Ä –µ—Ç—Ç—ñ.",
                tacticsTitle: "¬´“ö–æ–ª–¥–∞–Ω ”©—Ä—Ç–µ—É¬ª —Ç–∞–∫—Ç–∏–∫–∞—Å—ã", tacticsDesc: "–°–∞“õ—Ç–∞—Ä –∂–∞—É–¥—ã “±—Å–∞“õ “õ–∞“õ—Ç—ã“ì—ã—Å—Ç–∞—Ä–º–µ–Ω “õ–∞–∂—ã—Ç—ã–ø, –¥–∞–ª–∞ —ñ—à—ñ–Ω–µ —Ç–∞—Ä—Ç—ã–ø, –∞—Ç—Ç—ã ”ô—Å–∫–µ—Ä–¥—ñ“£ –∫“Ø—à—ñ–º–µ–Ω —Ä–µ—Å—É—Ä—Å—Ç–∞—Ä–¥–∞–Ω –∞–π—ã—Ä“ì–∞–Ω.",
                tacticsLabel: "–°–∞“õ—Ç–∞—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏—è—Å—ã",
                footer: "¬´–°–∞“õ—Ç–∞—Ä–¥—ã“£ –±–æ—Å—Ç–∞–Ω–¥—ã“ì—ã “õ–∞–Ω–º–µ–Ω –∂”ô–Ω–µ –î–∞–ª–∞–Ω—ã –±–∞—Å“õ—ã–Ω—à—ã–ª–∞—Ä–¥—ã“£ –º–æ–ª–∞—Å—ã–Ω–∞ –∞–π–Ω–∞–ª–¥—ã—Ä“ì–∞–Ω “±–ª—ã –∞–π–ª–∞–º–µ–Ω –∫–µ–ª–¥—ñ.¬ª",
                chartLabels: ["–ö–∏—Ä ”ô—Å–∫–µ—Ä—ñ", "–î–∞—Ä–∏–π I ”ô—Å–∫–µ—Ä—ñ", "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä —Ñ–∞–ª–∞–Ω–≥–∞—Å—ã", "–°–∞“õ –∞—Ç—Ç—ã ”ô—Å–∫–µ—Ä—ñ"],
                chartTitle: "–°–∞–ª—ã—Å—Ç—ã—Ä–º–∞–ª—ã –∫“Ø—à –ø–µ–Ω –º–∞–Ω–µ–≤—Ä–ª—ñ–ª—ñ–∫"
            },
            en: {
                title: "Shield of the Great Steppe",
                vizTitle: "Power of Resistance",
                vizDesc: "The Sakas successfully resisted the world's largest empires. Their 'war of attrition' and lightning attacks made the steppe impenetrable.",
                badge: "Chronicle of Resistance",
                date1: "Victory over Cyrus", date2: "Jaxartes Battle",
                planTitle: "Heroic Pages",
                b1T: "Queen Tomyris", b1D: "Victory over the Persian King Cyrus. The Massagetae Sakas lured the enemy deep into the steppe and destroyed his army.",
                b2T: "Shirak's Feat", b2D: "Resistance to Darius I. The shepherd Shirak lured the Persian army into a waterless desert, sacrificing himself.",
                b3T: "Against Alexander", b3D: "Defense against the Great. The Battle of Jaxartes forced Alexander to abandon plans for conquering the Steppe.",
                tacticsTitle: "Scorched Earth Tactics", tacticsDesc: "The Sakas exhausted the enemy with small skirmishes, lured them deep, and deprived them of resources using cavalry mobility.",
                tacticsLabel: "Saka Strategy",
                footer: "¬´The freedom of the Sakas was paid for with blood and great cunning, turning the Steppe into a grave for invaders.¬ª",
                chartLabels: ["Cyrus's Army", "Darius I's Army", "Alexander's Phalanx", "Saka Cavalry"],
                chartTitle: "Comparative Power & Maneuverability"
            }
        };

        let currentChart = null;

        function initChart(lang) {
            const ctx = document.getElementById('warChart').getContext('2d');
            if (currentChart) currentChart.destroy();

            currentChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: translations[lang].chartLabels,
                    datasets: [
                        {
                            label: lang === 'ru' ? '–ß–∏—Å–ª–µ–Ω–Ω–æ—Å—Ç—å' : (lang === 'kz' ? '–°–∞–Ω—ã' : 'Size'),
                            data: [95, 100, 80, 50],
                            backgroundColor: 'rgba(220, 38, 38, 0.2)',
                            borderColor: '#dc2626',
                            borderWidth: 2,
                            pointRadius: 3
                        },
                        {
                            label: lang === 'ru' ? '–ú–æ–±–∏–ª—å–Ω–æ—Å—Ç—å' : (lang === 'kz' ? '–ú–∞–Ω–µ–≤—Ä–ª—ñ–ª—ñ–∫' : 'Mobility'),
                            data: [30, 40, 60, 100],
                            backgroundColor: 'rgba(251, 191, 36, 0.2)',
                            borderColor: '#fbbf24',
                            borderWidth: 2,
                            pointRadius: 3
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: { color: 'rgba(255,255,255,0.1)' },
                            grid: { color: 'rgba(255,255,255,0.1)' },
                            pointLabels: {
                                color: '#a1a1aa',
                                font: { family: 'Inter', size: 12, weight: 'bold' }
                            },
                            ticks: { display: false },
                            beginAtZero: true,
                            max: 100
                        }
                    },
                    plugins: {
                        legend: { position: 'bottom', labels: { color: '#e5e7eb' } },
                        title: { display: true, text: translations[lang].chartTitle, color: '#dc2626', font: { size: 16 } }
                    }
                }
            });
        }

        function setLang(lang) {
            const t = translations[lang];
            document.getElementById('main-title').innerText = t.title;
            document.getElementById('viz-title').innerText = t.vizTitle;
            document.getElementById('viz-desc').innerText = t.vizDesc;
            document.getElementById('badge').innerText = t.badge;
            document.getElementById('date1').innerText = t.date1;
            document.getElementById('date2').innerText = t.date2;
            document.getElementById('plan-title').innerText = t.planTitle;
            document.getElementById('b1-t').innerText = t.b1T; document.getElementById('b1-d').innerText = t.b1D;
            document.getElementById('b2-t').innerText = t.b2T; document.getElementById('b2-d').innerText = t.b2D;
            document.getElementById('b3-t').innerText = t.b3T; document.getElementById('b3-d').innerText = t.b3D;
            document.getElementById('tactics-title').innerText = t.tacticsTitle;
            document.getElementById('tactics-desc').innerText = t.tacticsDesc;
            document.getElementById('tactics-label').innerText = t.tacticsLabel;
            document.getElementById('footer-text').innerText = t.footer;

            ['ru', 'kz', 'en'].forEach(l => {
                const btn = document.getElementById(`btn-${l}`);
                btn.className = l === lang 
                    ? "px-6 py-2 rounded-lg text-sm font-black lang-active" 
                    : "px-6 py-2 rounded-lg text-sm font-bold text-zinc-500 hover:text-red-500 transition-all";
            });

            initChart(lang);
        }

        window.onload = () => setLang('ru');
    </script>

<script type="text/javascript" src="qrc:///qtwebchannel/qwebchannel.js"></script>







<style data-oi-map-overlay>
.oi-map-btn{
  position:fixed; right:16px; bottom:16px; z-index:9999;
  padding:10px 14px; border-radius:999px; border:1px solid rgba(0,0,0,.15);
  background:#fff; cursor:pointer; font:600 14px/1.1 system-ui,-apple-system,Segoe UI,Roboto,Arial;
  box-shadow:0 8px 20px rgba(0,0,0,.12);
}
.oi-map-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.72); z-index:10000;
  display:none; align-items:center; justify-content:center; padding:18px;
}
.oi-map-backdrop[aria-hidden="false"]{ display:flex; }
.oi-map-modal{
  width:min(1100px, 100%); height:min(85vh, 900px);
  background:#111; border-radius:14px; overflow:hidden; position:relative;
  box-shadow:0 20px 60px rgba(0,0,0,.35);
}
.oi-map-close{
  position:absolute; top:10px; right:10px; z-index:3;
  width:40px; height:40px; border-radius:999px; border:1px solid rgba(255,255,255,.25);
  background:rgba(0,0,0,.35); color:#fff; cursor:pointer; font-size:22px;
}
.oi-map-viewport{
  width:100%; height:100%; overflow:auto; -webkit-overflow-scrolling:touch;
  touch-action: pan-x pan-y;
  background:#000;
  padding-top:56px; /* –º–µ—Å—Ç–æ –ø–æ–¥ —Ç—É–ª–±–∞—Ä */
}
.oi-map-img{
  display:block;
  transform-origin: 0 0;
  user-select:none; -webkit-user-drag:none;
}
.oi-map-toolbar{
  position:absolute; left:12px; top:12px; right:12px; z-index:2;
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  pointer-events:none;
}
.oi-map-tabs{ display:flex; gap:8px; pointer-events:auto; }
.oi-map-tab{
  width:36px; height:34px; border-radius:10px;
  border:1px solid rgba(255,255,255,.22);
  background:rgba(0,0,0,.35); color:#fff;
  cursor:pointer; font:600 14px system-ui,-apple-system,Segoe UI,Roboto,Arial;
}
.oi-map-tab.is-active{
  background:rgba(255,255,255,.12);
  border-color: rgba(255,255,255,.45);
}
.oi-map-hint{
  pointer-events:none;
  color:#fff; opacity:.85; font:12px/1.2 system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:rgba(0,0,0,.35); border:1px solid rgba(255,255,255,.18);
  padding:8px 10px; border-radius:10px;
}
</style>

<button class="oi-map-btn" type="button" data-oi-map-btn>üó∫Ô∏è –ö–∞—Ä—Ç–∞</button>

<div class="oi-map-backdrop" aria-hidden="true" data-oi-map-backdrop>
  <div class="oi-map-modal" role="dialog" aria-modal="true" aria-label="–ö–∞—Ä—Ç–∞">
    <button class="oi-map-close" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å" data-oi-map-close>√ó</button>

    <div class="oi-map-toolbar">
      <div class="oi-map-tabs">
        <button type="button" class="oi-map-tab is-active" data-oi-map-tab="1">1</button>
        <button type="button" class="oi-map-tab" data-oi-map-tab="2">2</button>
        <button type="button" class="oi-map-tab" data-oi-map-tab="3">3</button>
        <button type="button" class="oi-map-tab" data-oi-map-tab="4">4</button>
      </div>
      <div class="oi-map-hint">–ö–æ–ª—ë—Å–∏–∫–æ/—Ç—Ä–µ–∫–ø–∞–¥ ‚Äî –∑—É–º ‚Ä¢ Esc ‚Äî –∑–∞–∫—Ä—ã—Ç—å</div>
    </div>

    <div class="oi-map-viewport" data-oi-map-viewport>
      <img class="oi-map-img" data-oi-map-img data-map="1" src="../../assets/maps/karta_1.png" alt="–ö–∞—Ä—Ç–∞ 1" style="display:block;">
<img class="oi-map-img" data-oi-map-img data-map="2" src="../../assets/maps/karta_2.png" alt="–ö–∞—Ä—Ç–∞ 2" style="display:none;">
<img class="oi-map-img" data-oi-map-img data-map="3" src="../../assets/maps/karta_3.png" alt="–ö–∞—Ä—Ç–∞ 3" style="display:none;">
<img class="oi-map-img" data-oi-map-img data-map="4" src="../../assets/maps/karta_4.png" alt="–ö–∞—Ä—Ç–∞ 4" style="display:none;">
    </div>
  </div>
</div>


<script data-oi-map-overlay>
(function(){
  const btn = document.querySelector('[data-oi-map-btn]');
  const backdrop = document.querySelector('[data-oi-map-backdrop]');
  const closeBtn = document.querySelector('[data-oi-map-close]');
  const viewport = document.querySelector('[data-oi-map-viewport]');
  const tabs = Array.from(document.querySelectorAll('[data-oi-map-tab]'));
  const imgs = Array.from(document.querySelectorAll('[data-oi-map-img][data-map]'));
  if(!btn || !backdrop || !closeBtn || !viewport || imgs.length === 0) return;

  let scale = 1;

  function applyScale(){
    imgs.forEach(img => { img.style.transform = `scale(${scale})`; });
  }
  function openMap(){
    backdrop.setAttribute('aria-hidden','false');
    document.body.style.overflow = 'hidden';
  }
  function closeMap(){
    backdrop.setAttribute('aria-hidden','true');
    document.body.style.overflow = '';
  }
  function showMap(n){
    imgs.forEach(img => {
      img.style.display = (img.getAttribute('data-map') === String(n)) ? 'block' : 'none';
    });
    tabs.forEach(t => t.classList.toggle('is-active', t.getAttribute('data-oi-map-tab') === String(n)));
    viewport.scrollTop = 0;
    viewport.scrollLeft = 0;
  }

  btn.addEventListener('click', openMap);
  closeBtn.addEventListener('click', closeMap);
  backdrop.addEventListener('click', (e)=>{ if(e.target === backdrop) closeMap(); });
  window.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeMap(); });

  tabs.forEach(t => t.addEventListener('click', () => showMap(t.getAttribute('data-oi-map-tab'))));

  viewport.addEventListener('wheel', (e)=>{
    if(backdrop.getAttribute('aria-hidden') !== 'false') return;
    e.preventDefault();
    const delta = -Math.sign(e.deltaY) * 0.1;
    scale = Math.min(4, Math.max(0.6, scale + delta));
    applyScale();
  }, {passive:false});

  applyScale();
  showMap(1);
})();
</script>
</body>
</html>