<!DOCTYPE html> <html lang="ru"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Главный экран</title> <style> @import url('https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;800&display=swap'); body { margin: 0; font-family: 'Manrope', sans-serif; background: linear-gradient(135deg, #12185a 0%, #06092b 100%); color: white; height: 100vh; overflow: hidden; user-select: none; } .main-container { padding: 40px; box-sizing: border-box; height: 100%; display: flex; flex-direction: column; } header { text-align: center; margin-bottom: 40px; } header h1 { font-size: 48px; font-weight: 800; margin: 0; letter-spacing: -1px; } .card-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 30px; overflow-y: auto; padding: 10px; } .card-grid::-webkit-scrollbar { width: 8px; } .card-grid::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.1); border-radius: 10px; } .card-grid::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.3); border-radius: 10px; } .card { background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(15px); border-radius: 20px; padding: 20px; text-align: center; border: 1px solid rgba(255, 255, 255, 0.2); transition: transform 0.3s ease, box-shadow 0.3s ease; cursor: pointer; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 15px; } .card:hover { transform: translateY(-10px) scale(1.03); box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4); } .card img { width: 80px; height: 80px; } .card h3 { font-size: 20px; font-weight: 600; margin: 0; color: #ffffff; } </style> <!-- Этот скрипт необходим для связи с Python --> <script type="text/javascript" src="qrc:///qtwebchannel/qwebchannel.js"></script> </head> <body> <!-- КНОПКА НАЗАД --> <div style="margin-bottom: 20px;"> <button onclick="goBack()" style="background: #2196F3; border: none; color: white; padding: 10px 20px; border-radius: 8px; font-size: 14px; cursor: pointer; font-weight: 600; transition: all 0.3s ease; box-shadow: 0 2px 8px rgba(33, 150, 243, 0.3);">← Артқа</button> </div> <div class="main-container"> <header> <h1>{subject_name}</h1> </header> <div class="card-grid"> {topic_cards} </div> </div> <script> // Этот скрипт теперь будет работать надежно document.addEventListener('DOMContentLoaded', function() { if (typeof QWebChannel !== 'undefined') { new QWebChannel(qt.webChannelTransport, function(channel) { window.bridge = channel.objects.bridge; }); } else { // Этот код поможет нам, если ошибка повторится alert("Не удалось загрузить QWebChannel. Пожалуйста, перезапустите приложение."); } }); </script> <script> function goBack() { if (typeof bridge !== 'undefined' && bridge) { bridge.onBackClicked(); } } // QWebChannel инициализация if (typeof QWebChannel !== 'undefined' && typeof qt !== 'undefined') { try { new QWebChannel(qt.webChannelTransport, function(channel) { window.bridge = channel.objects.bridge; }); } catch(e) { console.log('QWebChannel недоступен'); } } </script> </body> </html>